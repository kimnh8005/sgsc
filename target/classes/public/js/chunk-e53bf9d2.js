(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e53bf9d2"],{"0ce5":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{class:{overflowed:t.isOverflow}},[a("span",[t._v(t._s(t.currentText.length))]),t._v(" / "),a("span",[t._v(t._s(t.limit))]),a("span",[t._v(t._s(t.description))])])},o=[],n=(a("a9e3"),a("498a"),{name:"LetterLimitCounter",props:{limit:{type:Number,required:!0},currentText:{type:String,required:!0},description:String},computed:{isOverflow:function(){return this.currentText.trim().length>this.limit}}}),i=n,s=(a("2f7e"),a("2877")),l=Object(s["a"])(i,r,o,!1,null,"6231f2f0",null);e["a"]=l.exports},"2f7e":function(t,e,a){"use strict";var r=a("eda7"),o=a.n(r);o.a},"3adf":function(t,e,a){},"498a":function(t,e,a){"use strict";var r=a("23e7"),o=a("58a8").trim,n=a("c8d2");r({target:"String",proto:!0,forced:n("trim")},{trim:function(){return o(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),o=a("5899"),n="["+o+"]",i=RegExp("^"+n+n+"*"),s=RegExp(n+n+"*$"),l=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(t,e,a){var r=a("861d"),o=a("d2bb");t.exports=function(t,e,a){var n,i;return o&&"function"==typeof(n=e.constructor)&&n!==a&&r(i=n.prototype)&&i!==a.prototype&&o(t,i),t}},a553:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle",{attrs:{title:"작업 일지"}}),a("div",{staticClass:"page-box"},[a("table",{staticClass:"view-table"},[a("tbody",[t._m(0),a("tr",[a("th",[t._v("작업유형")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.journal.work_type_cd,expression:"journal.work_type_cd"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.journal,"work_type_cd",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("선택")]),t._l(t.WORK_TYPE_CD,(function(t,e){return a("option",{key:e,attrs:{label:t.cd_nm},domProps:{value:t.cd_id}})}))],2)]),a("th",[t._v("단위공정")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.journal.unit_procs_cd,expression:"journal.unit_procs_cd"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.journal,"unit_procs_cd",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("선택")]),t._l(t.UNIT_PROCS_CD,(function(t,e){return a("option",{key:e,attrs:{label:t.cd_nm},domProps:{value:t.cd_id}})}))],2)])]),a("tr",[a("th",[t._v("설비")]),a("td",{attrs:{colspan:"3"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.journal.procs_id,expression:"journal.procs_id"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.journal,"procs_id",e.target.multiple?a:a[0])},t.onProcessChange]}},[a("option",{attrs:{value:""}},[t._v("생산공정")]),t._l(t.process,(function(t){return a("option",{key:t.procs_id,attrs:{label:t.procs_nm},domProps:{value:t.procs_id}})}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.journal.eqmt_id,expression:"journal.eqmt_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.journal,"eqmt_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("설비")]),t._l(t.equipment,(function(t){return a("option",{key:t.eqmt_id,attrs:{label:t.eqmt_nm},domProps:{value:t.eqmt_id}})}))],2)])]),a("tr",[a("th",[t._v("작업설명")]),a("td",{staticClass:"description-td",attrs:{colspan:"3"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.journal.description,expression:"journal.description"}],attrs:{type:"text"},domProps:{value:t.journal.description},on:{input:function(e){e.target.composing||t.$set(t.journal,"description",e.target.value)}}}),a("LetterLimitCounter",{attrs:{limit:50,"current-text":t.journal.description}})],1)])])]),a("table",{staticClass:"view-table"},[a("tbody",[t._m(1),a("tr",[a("th",[t._v("작업상태")]),a("td",{attrs:{colspan:"3"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.journal.work_stat_cd,expression:"journal.work_stat_cd"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.journal,"work_stat_cd",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("선택")]),t._l(t.WORK_STAT_CD,(function(t,e){return a("option",{key:e,attrs:{label:t.cd_nm},domProps:{value:t.cd_id}})}))],2)])]),a("tr",[a("th",[t._v("목표 시작")]),a("td",[a("div",{staticClass:"datepicker-container"},[t._m(2),a("DateRangePicker",{ref:"goalStartPicker",attrs:{opens:t.datePickerConfig.opens,"locale-data":t.datePickerConfig.localeData,showDropdowns:t.datePickerConfig.showDropdowns,autoApply:t.datePickerConfig.autoApply,"single-date-picker":!0,ranges:!1},on:{update:t.onUpdateGoalStart},scopedSlots:t._u([{key:"input",fn:function(e){return[t._v(" "+t._s(t._f("date")(e.startDate))+" ")]}}]),model:{value:t.goalStart,callback:function(e){t.goalStart=e},expression:"goalStart"}})],1)]),a("th",[t._v("목표 완료")]),a("td",[a("div",{staticClass:"datepicker-container"},[t._m(3),a("DateRangePicker",{ref:"goalCompletePicker",attrs:{opens:t.datePickerConfig.opens,"locale-data":t.datePickerConfig.localeData,showDropdowns:t.datePickerConfig.showDropdowns,autoApply:t.datePickerConfig.autoApply,"single-date-picker":!0,ranges:!1},on:{update:t.onUpdateGoalComplete},scopedSlots:t._u([{key:"input",fn:function(e){return[t._v(" "+t._s(t._f("date")(e.startDate))+" ")]}}]),model:{value:t.goalComplete,callback:function(e){t.goalComplete=e},expression:"goalComplete"}})],1)])]),a("tr",[a("th",[t._v("실제 시작")]),a("td",[a("div",{staticClass:"datepicker-container"},[t._m(4),a("DateRangePicker",{ref:"realStartPicker",attrs:{opens:t.datePickerConfig.opens,"locale-data":t.datePickerConfig.localeData,showDropdowns:t.datePickerConfig.showDropdowns,autoApply:t.datePickerConfig.autoApply,"single-date-picker":!0,ranges:!1},on:{update:t.onUpdateRealStart},scopedSlots:t._u([{key:"input",fn:function(e){return[t._v(" "+t._s(t._f("date")(e.startDate))+" ")]}}]),model:{value:t.realStart,callback:function(e){t.realStart=e},expression:"realStart"}})],1)]),a("th",[t._v("실제 완료")]),a("td",[a("div",{staticClass:"datepicker-container"},[t._m(5),a("DateRangePicker",{ref:"realCompletePicker",attrs:{opens:t.datePickerConfig.opens,"locale-data":t.datePickerConfig.localeData,showDropdowns:t.datePickerConfig.showDropdowns,autoApply:t.datePickerConfig.autoApply,"single-date-picker":!0,ranges:!1},on:{update:t.onUpdateRealComplete},scopedSlots:t._u([{key:"input",fn:function(e){return[t._v(" "+t._s(t._f("date")(e.startDate))+" ")]}}]),model:{value:t.realComplete,callback:function(e){t.realComplete=e},expression:"realComplete"}})],1)])]),a("tr",[a("th",[t._v("작업자")]),a("td",{attrs:{colspan:"3"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.journal.wrk_dept_cd,expression:"journal.wrk_dept_cd"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.journal,"wrk_dept_cd",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[t._v("선택")]),t._l(t.DEPT_CD,(function(t,e){return a("option",{key:e,attrs:{label:t.cd_nm},domProps:{value:t.cd_id}})}))],2),a("select",{directives:[{name:"model",rawName:"v-model",value:t.journal.wrk_user_id,expression:"journal.wrk_user_id"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.journal,"wrk_user_id",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:null}},[t._v("선택")]),a("option",{domProps:{value:t.journal.wrk_user_id}},[t._v(t._s(t.journal.wrk_user_nm))])])])])])]),a("table",{staticClass:"view-table"},[a("tbody",[a("tr",{staticClass:"multi-line"},[a("th",[t._v("작업지시")]),a("td",{staticClass:"full-size"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.journal.work_cmd_cnt,expression:"journal.work_cmd_cnt"}],domProps:{value:t.journal.work_cmd_cnt},on:{input:function(e){e.target.composing||t.$set(t.journal,"work_cmd_cnt",e.target.value)}}}),a("LetterLimitCounter",{staticClass:"limit-counter",attrs:{"current-text":t.journal.work_cmd_cnt,limit:200}})],1)]),a("tr",{staticClass:"multi-line"},[a("th",[t._v("특이사항")]),a("td",{staticClass:"full-size"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.journal.spcl_prbm,expression:"journal.spcl_prbm"}],domProps:{value:t.journal.spcl_prbm},on:{input:function(e){e.target.composing||t.$set(t.journal,"spcl_prbm",e.target.value)}}}),a("LetterLimitCounter",{staticClass:"limit-counter",attrs:{"current-text":t.journal.spcl_prbm,limit:200}})],1)])])]),a("div",{staticClass:"button-group center-type article-buttons"},[a("button",{on:{click:t.goView}},[t._v("취 소")]),a("button",{on:{click:t.doSave}},[t._v("저 장")])])])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"table-guide"},[a("th"),a("td"),a("th"),a("td")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"table-guide"},[a("th"),a("td"),a("th"),a("td")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"icon"},[r("img",{attrs:{src:a("7cb0"),alt:"calender icon"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"icon"},[r("img",{attrs:{src:a("7cb0"),alt:"calender icon"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"icon"},[r("img",{attrs:{src:a("7cb0"),alt:"calender icon"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"icon"},[r("img",{attrs:{src:a("7cb0"),alt:"calender icon"}})])}],n=a("5530"),i=a("25b9"),s=a("2f62"),l=a("5a0c"),c=a.n(l),u=a("bbf5"),d=a.n(u),p=a("0ce5"),_={name:"WorkJournalView",components:{LetterLimitCounter:p["a"],DateRangePicker:d.a,PageTitle:i["a"]},props:{jnl_sid:String},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(s["b"])(["userData"])),Object(s["c"])("common/process",["process"])),Object(s["c"])("common/equipment",["equipment"])),Object(s["c"])("common/code",["WORK_TYPE_CD","UNIT_PROCS_CD","WORK_STAT_CD","DEPT_CD"])),Object(s["c"])(["workJournal"])),{},{isAdmin:function(){return this.userData&&this.userData.auth_sid>99}}),watch:{journal:function(){this.goalStart.endDate=this.goalStart.startDate=c()(this.journal.goal_strt_dt).format("YYYY-MM-DD"),this.goalComplete.endDate=this.goalComplete.startDate=c()(this.journal.goal_cmpt_dt).format("YYYY-MM-DD"),this.realStart.endDate=this.realStart.startDate=c()(this.journal.real_strt_dt).format("YYYY-MM-DD"),this.realComplete.endDate=this.realComplete.startDate=c()(this.journal.real_cmpt_dt).format("YYYY-MM-DD")}},created:function(){var t=this;this.isAdmin&&(console.log("this.userData : ",this.userData.auth_sid),this.$store.dispatch("common/code/query",{code:"WORK_TYPE_CD"}),this.$store.dispatch("common/code/query",{code:"UNIT_PROCS_CD"}),this.$store.dispatch("common/code/query",{code:"WORK_STAT_CD"}),this.$store.dispatch("common/code/query",{code:"DEPT_CD"}),this.$store.dispatch("common/process/query",{queryString:""}),this.$store.dispatch("common/equipment/query",{queryString:""})),this.$store.dispatch("workJournal",{id:this.jnl_sid}).then((function(){t.journal=JSON.parse(JSON.stringify(t.workJournal)),console.log("workJournal:",t.journal)}))},data:function(){return{dayjs:c.a,journal:{work_type_cd:"",unit_procs_cd:"",procs_id:"",eqmt_id:"",description:"",work_stat_cd:"",goal_strt_dt:"",goal_cmpt_dt:"",real_strt_dt:"",real_cmpt_dt:"",wrk_dept_cd:"",wrk_user_id:"",work_cmd_cnt:"",spcl_prbm:""},datePickerConfig:{opens:"left",showDropdowns:!1,showRange:!1,localeData:{direction:"ltr",format:"yyyy-mm-dd",separator:" ~ ",applyLabel:"적 용",cancelLabel:"취 소",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],firstDay:0}},goalStart:{startDate:""},goalComplete:{startDate:""},realStart:{startDate:""},realComplete:{startDate:""}}},filters:{date:function(t){return t?c()(t).format("YYYY-MM-DD"):""}},methods:{goView:function(){this.$router.push("/journal/view/"+this.jnl_sid)},doSave:function(){var t=this;console.log("save:>>",this.journal),this.$store.dispatch("putWorkJournal",this.journal).then((function(e){"NRL001"===e.data.resultCode?t.goView():alert("저장 과정에서 오류가 있어 저장되지 않았습니다. \nCode: "+e.data.resultCode)}))},onProcessChange:function(){this.journal.eqmt_id="",""===this.journal.procs_id?this.$store.dispatch("common/equipment/clear",{stateName:"equipment"}):this.$store.dispatch("common/equipment/query",{queryString:"?procs_id="+this.journal.procs_id})},onUpdateGoalStart:function(t){console.log("this.onUpdateGoalStart",t),this.journal.goal_strt_dt=c()(t.startDate).format("YYYYMMDD")},onUpdateGoalComplete:function(t){console.log("this.onUpdateGoalComplete",t),this.journal.goal_cmpt_dt=c()(t.startDate).format("YYYYMMDD")},onUpdateRealStart:function(t){console.log("this.onUpdateRealStart",t),this.journal.real_strt_dt=c()(t.startDate).format("YYYYMMDD")},onUpdateRealComplete:function(t){console.log("this.onUpdateRealComplete",t),this.journal.real_cmpt_dt=c()(t.startDate).format("YYYYMMDD")}}},m=_,f=(a("bb8e"),a("2877")),v=Object(f["a"])(m,r,o,!1,null,"c45670a0",null);e["default"]=v.exports},a9e3:function(t,e,a){"use strict";var r=a("83ab"),o=a("da84"),n=a("94ca"),i=a("6eeb"),s=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),_=a("241c").f,m=a("06cf").f,f=a("9bf2").f,v=a("58a8").trim,g="Number",h=o[g],C=h.prototype,k=l(p(C))==g,w=function(t){var e,a,r,o,n,i,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=v(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(n=c.slice(2),i=n.length,s=0;s<i;s++)if(l=n.charCodeAt(s),l<48||l>o)return NaN;return parseInt(n,r)}return+c};if(n(g,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var D,b=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof b&&(k?d((function(){C.valueOf.call(a)})):l(a)!=g)?c(new h(w(e)),a,b):w(e)},j=r?_(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;j.length>y;y++)s(h,D=j[y])&&!s(b,D)&&f(b,D,m(h,D));b.prototype=C,C.constructor=b,i(o,g,b)}},bb8e:function(t,e,a){"use strict";var r=a("3adf"),o=a.n(r);o.a},c8d2:function(t,e,a){var r=a("d039"),o=a("5899"),n="​᠎";t.exports=function(t){return r((function(){return!!o[t]()||n[t]()!=n||o[t].name!==t}))}},eda7:function(t,e,a){}}]);
//# sourceMappingURL=chunk-e53bf9d2.js.map