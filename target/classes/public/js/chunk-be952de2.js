(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-be952de2"],{c43e:function(t,e,i){"use strict";var a=i("f8d3"),c=i.n(a);c.a},e9bf:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PageTitle",{attrs:{title:"공지사항"}}),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"공지사항 등록/수정"}}),i("div",{staticClass:"article-view"},[i("div",{staticClass:"article-header edit-mode"},[i("div",{staticClass:"item-box"},[t._m(0),i("select",{directives:[{name:"model",rawName:"v-model",value:t.article.category,expression:"article.category"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.article,"category",e.target.multiple?i:i[0])}}},[i("option",{attrs:{value:"all"}},[t._v("선택")]),t._l(t.NOTI_TYPE_CD,(function(e){return i("option",{key:e.cd_id,domProps:{value:e.cd_id}},[t._v(" "+t._s(e.cd_nm)+" ")])}))],2)]),i("div",{staticClass:"item-box"},[t._m(1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.title,expression:"article.title"}],attrs:{type:"text"},domProps:{value:t.article.title},on:{input:function(e){e.target.composing||t.$set(t.article,"title",e.target.value)}}})])]),i("div",{staticClass:"article-body edit-mode"},[i("vue-editor",{attrs:{"editor-toolbar":t.customToolbar},model:{value:t.article.bodyText,callback:function(e){t.$set(t.article,"bodyText",e)},expression:"article.bodyText"}})],1),i("div",{staticClass:"attach-file"},[i("div",{staticClass:"attach-inner"},[t._v(" 첨부파일 : "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.attach.fileName,expression:"article.attach.fileName"}],attrs:{type:"text",readonly:""},domProps:{value:t.article.attach.fileName},on:{input:function(e){e.target.composing||t.$set(t.article.attach,"fileName",e.target.value)}}}),i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"attach"}}),i("button",{staticClass:"btn-dark",on:{click:t.onClickSearchAttach}},[t._v(" 파일 선택 ")]),i("span",{staticClass:"error-msg"},[t._v(t._s(t.isExcess10Mb?"업로드 파일은 10Mb 크기 제한이 있습니다.":""))])])])]),i("div",{staticClass:"button-group center-type article-buttons"},[i("button",{on:{click:t.goView}},[t._v("취 소")]),i("button",{attrs:{disabled:t.disableSave},on:{click:t.doSave}},[t._v("저 장")])])],1),t.isShowSpinner?i("LoadingSpinner"):t._e()],1)},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[t._v(" 분류 "),i("span",{staticClass:"required"},[t._v("*")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",[t._v(" 제목 "),i("span",{staticClass:"required"},[t._v("*")])])}],n=(i("b0c0"),i("498a"),i("5530")),o=i("c6f9"),r=i("25b9"),l=i("2f62"),s=i("5a0c"),d=i.n(s),u=i("c684"),p=i("5ac6"),h={name:"NoticeEdit",components:{LoadingSpinner:p["a"],VueEditor:u["VueEditor"],PageTitle:r["a"],PanelTitle:o["a"]},props:{mode:{type:String,required:!0},noti_sid:{type:String}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(l["c"])("common/notice",["noticeView"])),Object(l["c"])("common/code",["NOTI_TYPE_CD"])),{},{disableSave:function(){return"all"===this.article.category||""===this.article.title.trim()||""===this.article.bodyText.trim()||this.isExcess10Mb},isExcess10Mb:function(){return this.article.attach.file&&this.article.attach.file.size>1e7}}),created:function(){this.queryServer(),this.$store.dispatch("common/code/query",{code:"NOTI_TYPE_CD"})},data:function(){return{dayjs:d.a,article:{category:"all",title:"",bodyText:"",attach:{fileName:null,file:null}},isShowSpinner:!1,customToolbar:[[{header:[!1,1,2,3,4,5,6]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["link","video"],["clean"]]}},methods:{queryServer:function(){var t=this;"edit"===this.mode&&this.$store.dispatch("common/notice/noticeView",{noti_sid:this.noti_sid}).then((function(){t.article.title=t.noticeView.current.noti_title,t.article.bodyText=t.noticeView.current.noti_cnt,t.article.category=t.noticeView.current.noti_type_cd,t.article.attach.fileName=t.noticeView.current.file_nm}))},goView:function(){var t=this.noti_sid?"/notice/view/"+this.noti_sid:"/notice";this.$router.push(t)},onClickSearchAttach:function(){var t=this,e=document.getElementById("attach");e.onchange=function(e){t.article.attach.file=e.target.files[0],t.article.attach.fileName=t.article.attach.file.name},e.click()},doSave:function(){var t=this;this.isShowSpinner=!0;var e,i=new FormData;i.append("Content-Type","multipart/form-data"),i.append("noti_type_cd",this.article.category),i.append("noti_title",this.article.title),i.append("noti_cnt",this.article.bodyText),this.article.attach.file&&i.append("file",this.article.attach.file),"edit"===this.mode?(e="common/notice/putNoticeView",i.append("noti_sid",this.noti_sid)):"write"===this.mode&&(e="common/notice/postNoticeView"),this.$store.dispatch(e,i).then((function(e){"NRL001"===e.data.resultCode&&t.goView(),t.isShowSpinner=!1})).catch((function(){t.isShowSpinner=!1}))}}},m=h,v=(i("c43e"),i("2877")),f=Object(v["a"])(m,a,c,!1,null,"c25c4be0",null);e["default"]=f.exports},f8d3:function(t,e,i){}}]);
//# sourceMappingURL=chunk-be952de2.js.map