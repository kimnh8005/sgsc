(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90c8ee1a"],{"07d9":function(t,e,a){"use strict";var i=a("f217"),s=a.n(i);s.a},"1e8c":function(t,e,a){"use strict";var i=a("62bd"),s=a.n(i);s.a},"31a8":function(t,e,a){"use strict";var i=a("b96e"),s=a.n(i);s.a},"324a":function(t,e,a){"use strict";var i=a("80da"),s=a.n(i);s.a},"3b51":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-title"},[a("h5",[t._v(t._s(t.title))]),t.desc?a("div",{staticClass:"title-desc"},[t._v(t._s(t.desc))]):t._e(),a("div",{staticClass:"filler"}),t._t("button")],2)},s=[],r={name:"PanelSubTitle",props:{title:String,desc:String}},n=r,c=(a("07d9"),a("2877")),l=Object(c["a"])(n,i,s,!1,null,"e6519142",null);e["a"]=l.exports},"3bdc":function(t,e,a){},"3fb7":function(t,e,a){"use strict";var i=a("3bdc"),s=a.n(i);s.a},4632:function(t,e,a){"use strict";var i=a("920f"),s=a.n(i);s.a},"4ba1":function(t,e,a){"use strict";a("ac1f"),a("1276");var i={date:function(t,e){if(!t)return"";var a=t.substr(0,4),s=t.substr(4,2),r=t.substr(6,2),n=t.substr(8,2),c=t.substr(10,2),l=t.substr(12,2),o=""===n||""===c?"":" "+n+":"+c;if(o=""===l?o:" "+o+":"+l,"MM/dd~MM/dd"===e){var u=t.split("~");return i.date(u[0],"MM/dd")+"~"+i.date(u[1],"MM/dd")}return"MM/dd"===e?s+"/"+r:"MM/dd hh:mm"===e?s+"/"+r+" "+n+":"+c:a+"-"+s+"-"+r+o}};e["a"]=i},"62bd":function(t,e,a){},7789:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"tab"},[t._l(t.items,(function(e,i){return a("li",{key:"filled_"+i,class:{active:t.index===i},on:{click:function(a){return t.onClick(i,e)}}},[t._v(" "+t._s(e[t.displayPropName])+" ")])})),t._l(t.getBlankNum(t.items),(function(t,e){return a("li",{key:"empty_"+e,staticClass:"blank-item"})}))],2)},s=[],r=(a("4160"),a("a9e3"),a("159b"),{name:"PanelTab",props:{items:Array,displayPropName:String,numsInRow:{type:Number,default:5},emitPropList:{type:Array,required:!0}},computed:{cssVars:function(){return{"--numsInRow":this.numsInRow}}},data:function(){return{index:0}},methods:{onClick:function(t,e){this.index=t;var a={};this.emitPropList&&this.emitPropList.length?this.emitPropList.forEach((function(t){a[t]=e[t]})):a[this.displayPropName]=e[this.displayPropName],this.$emit("change",a)},getBlankNum:function(t){var e=0;return t&&t.length&&(e=(this.numsInRow-t.length%this.numsInRow)%this.numsInRow),e}}}),n=r,c=(a("1e8c"),a("2877")),l=Object(c["a"])(n,i,s,!1,null,"1940b404",null);e["a"]=l.exports},"7ec5":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.validated?a("div",{class:{"double-row":!t.isDoubleRow}},[t.showRiskStep?a("RiskStepLabel",{class:{"full-size":t.isDoubleRow},attrs:{"delete-step-suffix":t.isDeleteStepSuffix,name:t.riskName,code:t.riskCode}}):t._e(),t.showRiskLabel?a("div",{staticClass:"risk-label"},[t._v(t._s(t.riskNum+t.riskUnit))]):t._e()],1):a("div",[t._v("-")])},s=[],r=(a("c975"),a("b0c0"),a("a9e3"),a("ac1f"),a("1276"),a("6e4b")),n={name:"RiskLabel",components:{RiskStepLabel:r["a"]},props:{isDoubleRow:Boolean,isDeleteStepSuffix:Boolean,showRiskStep:{type:Boolean,default:!0},showRiskLabel:{type:Boolean,default:!0},name:String,code:String,num:Number,unit:String,textData:String},computed:{validated:function(){return this.textData||this.code},isTextData:function(){return this.textData&&this.textData.indexOf(":")>-1},riskName:function(){var t="";if(this.isTextData)t=this.textData.indexOf(":")>-1?this.textData.split(":")[1]:this.textData;else if(this.name)t=this.name;else if(this.code){var e=this.code.substr(0,2),a=this.code.substr(-1,1);switch(e){case"NR":t="정상";break;case"CR":t="주의";break;case"WR":t="경고";break;case"DG":t="위험";break;default:t="-"}t=t+" "+a+" 단계"}return this.isDeleteStepSuffix&&(t=t.substr(0,2)),t},riskCode:function(){var t;if(this.isTextData){var e=this.textData.split(":")[1].substr(0,2);switch(e){case"정상":t="NR";break;case"주의":t="CR";break;case"경고":t="WR";break;case"위험":t="DG";break;default:t=""}}else t=this.code;return t},riskNum:function(){var t=0;if(this.isTextData){var e=this.textData.split(":");t=Number(e[0])}else t=this.num;return t},riskUnit:function(){return this.unit?this.unit:"%"}},methods:{}},c=n,l=(a("324a"),a("2877")),o=Object(l["a"])(c,i,s,!1,null,"6212cb5a",null);e["a"]=o.exports},"80da":function(t,e,a){},"920f":function(t,e,a){},"99af":function(t,e,a){"use strict";var i=a("23e7"),s=a("d039"),r=a("e8b5"),n=a("861d"),c=a("7b0b"),l=a("50c4"),o=a("8418"),u=a("65f0"),d=a("1dde"),h=a("b622"),p=a("2d00"),_=h("isConcatSpreadable"),m=9007199254740991,f="Maximum allowed index exceeded",v=p>=51||!s((function(){var t=[];return t[_]=!1,t.concat()[0]!==t})),b=d("concat"),k=function(t){if(!n(t))return!1;var e=t[_];return void 0!==e?!!e:r(t)},g=!v||!b;i({target:"Array",proto:!0,forced:g},{concat:function(t){var e,a,i,s,r,n=c(this),d=u(n,0),h=0;for(e=-1,i=arguments.length;e<i;e++)if(r=-1===e?n:arguments[e],k(r)){if(s=l(r.length),h+s>m)throw TypeError(f);for(a=0;a<s;a++,h++)a in r&&o(d,h,r[a])}else{if(h>=m)throw TypeError(f);o(d,h++,r)}return d.length=h,d}})},a11a:function(t,e,a){"use strict";var i=a("a8fd"),s=a.n(i);s.a},a321:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container",class:{"main-type":"MAIN"===t.chartType}},[a("highcharts",{ref:"highcharts",attrs:{options:t.chartOptions}})],1)},s=[],r=(a("99af"),a("4160"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("4452")),n=a("4ba1"),c={name:"ChartBox",components:{highcharts:r["Chart"]},props:{chartType:String,rawData:null},watch:{seriesData:{handler:function(){var t=this;while(this.chart.series.length>0)this.chart.series[0].remove(!0);this.seriesData.forEach((function(e){t.chart.addSeries(e)})),this.chart.xAxis[0].setCategories(this.categoryData)},deep:!0}},computed:{seriesData:function(){var t=null;switch(this.chartType){case"MAIN":t=this.getMainList();break;case"PREDICTION24HOUR":t=this.getPrediction24HourList();break;case"PREDICTION7DAY":t=this.getPrediction7DayList();break;case"PREDICTION4WEEK":t=this.getPrediction4WeekList();break;case"PROCESS":t=this.getProcessList();break;case"EQUIPMENT":t=this.getProcessList();break;default:return[]}return t},categoryData:function(){var t=null;switch(this.chartType){case"MAIN":t=this.getHourCategories();break;case"PREDICTION24HOUR":t=this.getHourCategories();break;case"PREDICTION7DAY":t=this.getDayCategories();break;case"PREDICTION4WEEK":t=this.getWeekCategories();break;case"PROCESS":t=this.getProcessCategories();break;case"EQUIPMENT":t=this.getProcessCategories();break;default:return[]}return t}},mounted:function(){this.chart=this.$refs.highcharts.chart},data:function(){return{chart:null,chartOptions:{chart:{type:"area",height:this.getChartHeight(),animation:{duration:1e3}},title:!1,legend:this.getLegendConfig(),xAxis:{categories:[]},yAxis:{title:!1,labels:{formatter:function(){var t={0:"",25:"정상",50:"주의",75:"경고",100:"위험"},e={0:"transparent",25:"#2d969b",50:"#f06c00",75:"#ff0000",100:"#a40000"};return'<span style="color: '.concat(e[this.value],'">').concat(t[this.value],"</span>")},y:28,x:-40,style:{color:"#666666",fontSize:15,fontWeight:"bold"}},max:100,tickAmount:5,tickWidth:1,tickLength:100},plotOptions:{series:{marker:{fillColor:"#FFFFFF",lineWidth:2,lineColor:null}},area:{pointPlacement:"on"}},credits:{enabled:!1}}}},methods:{getProcessCategories:function(){var t=this,e=[];return this.rawData.data.forEach((function(a){t.rawData.cols.forEach((function(t){if("date"!==t){var i=a[t];i?e.push(t+"시"):e.push("")}}))})),e},getWeekCategories:function(){var t=[];return this.rawData.forEach((function(e){t.push(n["a"].date(e.risk_dt,"MM/dd~MM/dd"))})),t},getDayCategories:function(){var t=[];return this.rawData.forEach((function(e){t.push(n["a"].date(e.ymd,"MM/dd"))})),t},getHourCategories:function(){var t=[];return this.rawData.forEach((function(e){t.push(e.qtime+"시")})),t},getChartHeight:function(){return"MAIN"===this.chartType?250:230},getLegendConfig:function(){return"MAIN"===this.chartType&&{layout:"horizontal",align:"left",verticalAlign:"top",x:50}},getProcessList:function(){var t=[{name:"통합 위험률(%)",data:[],color:"#f58fae"}],e=this.rawData.cols;return this.rawData.data.forEach((function(a){e.forEach((function(e){if("date"!==e){var i=a[e];i=i?Number(i.split(":")[0]):null,t[0].data.push(i)}}))})),t},getPrediction4WeekList:function(){var t=[{name:"4주 예측",data:[],color:"#f58fae"}];return this.rawData.forEach((function(e){t[0].data.push(Number(e.risk_rate.split(":")[0]))})),t},getPrediction7DayList:function(){var t=[{name:"7일 예측",data:[],color:"#f58fae"}];return this.rawData.forEach((function(e){t[0].data.push(Number(e.risk_rate.split(":")[0]))})),t},getPrediction24HourList:function(){var t=[{name:"통합 위험률(%)",data:[],color:"#f58fae"}];return this.rawData.forEach((function(e){t[0].data.push(Number(e.risk_rate.split(":")[0]))})),t},getMainList:function(){var t=[{name:"발생확률(%)",data:[],color:"#f58fae"}];return this.rawData.forEach((function(e){t[0].data.push(Number(e.CRIG101.split(":")[0]))})),t}}},l=c,o=(a("a11a"),a("2877")),u=Object(o["a"])(l,i,s,!1,null,"818736b2",null);e["a"]=u.exports},a8fd:function(t,e,a){},b96e:function(t,e,a){},e5b2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PageTitle"),i("RealtimeRiskInfo",{attrs:{all:t.realtimeRisk.all}}),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"위험도 높은 시설",desc:"실시간 위험도 높은 시설"}}),i("table",{staticClass:"default-table"},[t._m(0),i("tbody",t._l(t.realtimeRisk.procs,(function(e){return i("tr",{key:e.procs_id},[i("td",[t._v(t._s(e.procs_nm))]),i("td",[i("RiskStepLabel",{attrs:{name:e.risk_step_nm,code:e.risk_step_cd}})],1),i("th",[t._v(t._s(e.risk_num+e.risk_unit))]),i("td",[i("router-link",{attrs:{to:{path:"/analysis/process/"+e.procs_id,query:{procs_nm:e.procs_nm}}}},[i("button",{staticClass:"outline-dark"},[t._v(" 상세보기 "),i("img",{attrs:{src:a("92fe"),alt:"상세보기"}})])])],1)])})),0)])],1),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"위험도 높은 설비",desc:"실시간 위험도 높은 설비"}}),i("table",{staticClass:"default-table double-row-header"},[t._m(1),i("tbody",t._l(t.realtimeRisk.eqmt,(function(e){return i("tr",{key:e.eqmt_id},[i("td",[t._v(t._s(e.procs_nm))]),i("td",[t._v(t._s(e.eqmt_nm))]),i("td",[i("RiskStepLabel",{attrs:{useStepByName:!0,name:e.risk_step_nm}})],1),i("th",[t._v(t._s(e.risk_num+e.risk_unit))]),i("th",[t._v(t._s(e.NORL)+"건")]),i("th",[t._v(t._s(e.CARE)+"건")]),i("th",[t._v(t._s(e.WARG)+"건")]),i("th",[t._v(t._s(e.EROR)+"건")]),i("td",[i("button",{staticClass:"outline-dark",on:{click:function(a){return t.showPopup("KIES",e.procs_nm,e.eqmt_nm,e.eqmt_id,t.realtimeRisk.all.anys_ymdhi)}}},[t._v(" 상세보기 "),i("img",{attrs:{src:a("92fe"),alt:"상세보기"}})])])])})),0)])],1),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"설비 분석 데이터",desc:"실시간 위험도 높은 설비의 24시간 분석 데이터"}}),i("PanelTab",{attrs:{items:t.realtimeRisk.eqmt,"display-prop-name":"eqmt_nm","emit-prop-list":["eqmt_id","eqmt_nm"]},on:{change:t.facilityTabChanged}}),i("PanelSubTitle",{attrs:{title:"센서 데이터 분석 위험도"}}),i("ChartBox",{attrs:{"raw-data":t.realtimeEquipmentCrig.list,"chart-type":"MAIN"}}),i("table",{staticClass:"default-table double-row-header"},[i("thead",[i("tr",[i("th",{attrs:{rowspan:"2",colspan:"2"}},[t._v("날짜/시간")]),t._l(t.crigYmdList,(function(e){return i("th",{key:e.ymd,attrs:{colspan:e.count}},[t._v(" "+t._s(t.formatter.date(e.ymd))+" ")])}))],2),i("tr",t._l(t.realtimeEquipmentCrig.list,(function(e,a){return i("th",{key:a},[t._v(" "+t._s(e.qtime)+"시 ")])})),0)]),t.realtimeEquipmentCrig.list.length?i("tbody",[i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("위험단계")]),t._l(t.realtimeEquipmentCrig.list,(function(t,e){return i("td",{key:e},[i("RiskLabel",{attrs:{"text-data":t.CRIG101,showRiskLabel:!1}})],1)}))],2),i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("발생확률")]),t._l(t.realtimeEquipmentCrig.list,(function(t,e){return i("th",{key:e},[i("RiskLabel",{attrs:{"text-data":t.CRIG102,showRiskStep:!1}})],1)}))],2),i("tr",[t._m(2),i("th",[t._v("정상")]),t._l(t.realtimeEquipmentCrig.list,(function(t,e){return i("th",{key:e},[i("RiskLabel",{attrs:{"text-data":t.CRIG103,showRiskLabel:!1}})],1)}))],2),i("tr",[i("th",[t._v("주의")]),t._l(t.realtimeEquipmentCrig.list,(function(t,e){return i("th",{key:e},[i("RiskLabel",{attrs:{"text-data":t.CRIG104,showRiskLabel:!1}})],1)}))],2),i("tr",[i("th",[t._v("경고")]),t._l(t.realtimeEquipmentCrig.list,(function(t,e){return i("th",{key:e},[i("RiskLabel",{attrs:{"text-data":t.CRIG105,showRiskLabel:!1}})],1)}))],2),i("tr",[i("th",[t._v("위험")]),t._l(t.realtimeEquipmentCrig.list,(function(t,e){return i("th",{key:e},[i("RiskLabel",{attrs:{"text-data":t.CRIG106,showRiskLabel:!1}})],1)}))],2),i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("사고 시나리오")]),t._l(t.realtimeEquipmentCrig.list,(function(e,s){return i("td",{key:s},[e?i("button",{staticClass:"outline-dark",on:{click:function(a){return t.showPopup("CRIG",e.procs_nm,t.selectedEquipmentName,e.eqmt_id,e.ymd)}}},[t._v(" 상세보기 "),i("img",{attrs:{src:a("92fe"),alt:"상세보기"}})]):i("span",[t._v("-")])])}))],2)]):t._e()]),i("PanelSubTitle",{attrs:{title:"예지보전 위험도"}}),i("table",{staticClass:"default-table double-row-header"},[t._m(3),t.realtimeEquipmentPartDb.list.length?i("tbody",[i("tr",[i("td",[t._v(t._s(t.formatter.date(t.realtimeEquipmentPartDb.list[0].anys_ymdh,"MM/dd hh:mm")))]),i("td",[t.realtimeEquipmentPartDb.list[0]?i("RiskLabel",{attrs:{"text-data":t.realtimeEquipmentPartDb.list[0].risk_value,"show-risk-label":!1}}):t._e()],1),i("td",[t._v(t._s(t.realtimeEquipmentPartDb.list[0].risk_value.split(":")[0]+"%"))]),i("td",[t._v(t._s(t.realtimeEquipmentPartDb.list[1].risk_value))]),i("td",[t._v(t._s(t.realtimeEquipmentPartDb.list[2].risk_value))]),i("td",[t._v(t._s(t.realtimeEquipmentPartDb.list[3].risk_value))]),i("td",[t._v(t._s(t.realtimeEquipmentPartDb.list[4].risk_value))]),i("td",[t.realtimeEquipmentPartDb.list.length?i("button",{staticClass:"outline-dark",on:{click:function(e){return t.showPopup("PARTDB",null,t.selectedEquipmentName,null,t.realtimeEquipmentPartDb.list[0].anys_ymdh)}}},[t._v(" 상세보기 "),i("img",{attrs:{src:a("92fe"),alt:"상세보기"}})]):i("span",[t._v("-")])])])]):t._e()]),i("PanelSubTitle",{attrs:{title:"영상 데이터 분석 위험도"}}),i("table",{staticClass:"default-table double-row-header"},[t._m(4),t.realtimeEquipmentKsec.list.length?i("tbody",[i("tr",[i("td",[t._v(t._s(t.formatter.date(t.realtimeEquipmentKsec.list[0].anys_ymdh,"MM/dd hh:mm")))]),i("td",{staticClass:"flex-in-td"},[i("RiskLabel",{attrs:{"text-data":t.realtimeEquipmentKsec.list[0].risk_value}}),t.realtimeEquipmentKsec.list[3]?i("a",{attrs:{href:t.realtimeEquipmentKsec.list[3].risk_value,target:"_blank"}},[i("button",{staticClass:"default-button"},[t._v("항공사진 >")])]):t._e()],1),i("td",[i("RiskLabel",{attrs:{"text-data":t.realtimeEquipmentKsec.list[1].risk_value}})],1),i("td",[i("RiskLabel",{attrs:{"text-data":t.realtimeEquipmentKsec.list[2].risk_value}})],1),i("td",[t._v(t._s(t.realtimeEquipmentKsec.list[4].risk_value))]),i("td",[t._v(t._s(t.realtimeEquipmentKsec.list[5].risk_value))]),i("td",[t._v(t._s(t.realtimeEquipmentKsec.list[6].risk_value))])])]):t._e()])],1),t.accident_scenario_popup.isShow?i("AccidentScenarioPopup",{staticClass:"no-hr-line",on:{close:t.hidePopup},scopedSlots:t._u([t.accident_scenario_popup.procs_nm&&t.accident_scenario_popup.procs_nm.length>0?{key:"subtitle",fn:function(){return[i("h2",[t._v(t._s(t.accident_scenario_popup.procs_nm)),i("img",{staticClass:"arrow",attrs:{src:a("92fe"),alt:""}}),t._v(t._s(t.accident_scenario_popup.eqmt_nm))])]},proxy:!0}:t.accident_scenario_popup.eqmt_nm&&t.accident_scenario_popup.eqmt_nm.length>0?{key:"subtitle",fn:function(){return[i("h2",[t._v(t._s(t.accident_scenario_popup.eqmt_nm))])]},proxy:!0}:{key:"subtitle",fn:function(){return[i("h2",[t._v("장비 이름 없음")])]},proxy:!0},{key:"time",fn:function(){return[i("h3",[t._v(t._s(t.popupTimeText()))])]},proxy:!0},{key:"body",fn:function(){return[i("table",{staticClass:"default-table in-popup"},[i("thead",[i("tr",[i("th",[t._v("사고 코드")]),i("th",[t._v("사고 발생 원인")]),i("th",[t._v("사고 발생 내용")]),i("th",[t._v("점검 사항")]),i("th",[t._v("위험단계")]),i("th",[t._v(t._s(t.popupRiskText()))])])]),i("tbody")])]},proxy:!0}],null,!0)}):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("시설")]),a("th",[t._v("통합 위험 단계")]),a("th",[t._v("통합 위험률")]),a("th",{staticClass:"w200"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("시설")]),a("th",{attrs:{rowspan:"2"}},[t._v("이상 설비")]),a("th",{attrs:{rowspan:"2"}},[t._v("위험 단계")]),a("th",{attrs:{rowspan:"2"}},[t._v("통합 위혐률")]),a("th",{attrs:{colspan:"4"}},[t._v("사고 시나리오 위험 단계")]),a("th",{attrs:{rowspan:"2"}},[t._v("사고 시나리오")])]),a("tr",[a("th",[t._v("정상")]),a("th",[t._v("주의")]),a("th",[t._v("경고")]),a("th",{staticClass:"no-radius border-right"},[t._v("위험")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{attrs:{rowspan:"4"}},[t._v("사고"),a("br"),t._v("시나리오"),a("br"),t._v("위험 단계")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("날짜/시간")]),a("th",{attrs:{rowspan:"2"}},[t._v("위험 단계")]),a("th",{attrs:{rowspan:"2"}},[t._v("고장확률")]),a("th",{attrs:{colspan:"4"}},[t._v("사고 시나리오 위험 단계")]),a("th",{attrs:{rowspan:"2"}},[t._v("사고 시나리오")])]),a("tr",[a("th",[t._v("정상")]),a("th",[t._v("주의")]),a("th",[t._v("경고")]),a("th",{staticClass:"no-radius border-right"},[t._v("위험")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("날짜/시간")]),a("th",{attrs:{rowspan:"2"}},[t._v("위험 단계")]),a("th",{attrs:{rowspan:"2"}},[t._v("고장확률")]),a("th",{attrs:{colspan:"4"}},[t._v("사고 시나리오 위험 단계")]),a("th",{attrs:{rowspan:"2"}},[t._v("사고 시나리오")])]),a("tr",[a("th",[t._v("정상")]),a("th",[t._v("주의")]),a("th",[t._v("경고")]),a("th",{staticClass:"no-radius border-right"},[t._v("위험")])])])}],r=(a("4160"),a("159b"),a("5530")),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"realtime-title"},[i("div",{staticClass:"title-header page-box"},[t._m(0),i("div",{staticClass:"risk-level"},[i("span",[t._v("통합 위험 단계")]),i("span",{staticClass:"level-sign",class:t.riskStep},[t._v(" "+t._s(t.riskStepSign)+" ")])]),i("div",{staticClass:"risk-percent"},[i("span",[t._v("통합 위험률")]),i("span",{staticClass:"percent-sign",class:t.riskStep},[i("span",[t._v(t._s(t.all.risk_num))]),i("span",[t._v(t._s(t.all.risk_unit))])])])]),i("div",{staticClass:"refresh-button",on:{click:t.refreshData}},[i("div",{staticClass:"button-label"},[i("img",{class:{loading:t.isLoading},attrs:{src:a("2630"),alt:"새로고침 아이콘"}}),t._v(" 데이터 새로고침 ")]),i("div",{staticClass:"update-time"},[i("span",[t._v(t._s(t.updatedTime))]),t._v(" 기준 ")])])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h4",[i("img",{attrs:{src:a("04ed"),alt:"실시간 전체 시설 위험도 아이콘"}}),i("span",{staticClass:"title-text"},[t._v("전체 계통 ㅣ 실시간 시설 위험도")])])}],l=a("4ba1"),o={name:"RealtimeRiskInfo",props:{all:Object},data:function(){return{formatter:l["a"],isLoading:!1,isLoaded:!1,autoReloadTimerId:null,timerId:null}},created:function(){this.autoReloadTimerId=setInterval(this.refreshData,1e4)},computed:{riskStepSign:function(){return this.all.risk_step_nm?this.all.risk_step_nm.substr(0,2)+" "+this.riskLevel+"단계":""},riskStep:function(){return this.all.risk_step_cd?this.all.risk_step_cd.substr(0,2):""},riskLevel:function(){return this.all.risk_step_cd?this.all.risk_step_cd.substr(-1,1):""},updatedTime:function(){return l["a"].date(this.all.anys_ymdhi)}},methods:{refreshData:function(){var t=this;null===this.timerId&&(this.timerId=setInterval(this.checkLoaded,2e3),this.isLoading=!0,this.isLoaded=!1,this.autoReloadTimerId=null,this.$store.dispatch("realtimeRisk").then((function(){t.isLoaded=!0})))},checkLoaded:function(){this.isLoaded&&(clearInterval(this.timerId),this.timerId=null,this.isLoading=!1,this.autoReloadTimerId=setInterval(this.refreshData,1e4),console.log("<<<<< this.timerId",this.timerId))},cancelAutoUpdate:function(){clearInterval(this.autoReloadTimerId)}},beforeDestroy:function(){this.cancelAutoUpdate()}},u=o,d=(a("31a8"),a("2877")),h=Object(d["a"])(u,n,c,!1,null,"7c34bfd8",null),p=h.exports,_=a("c6f9"),m=a("6e4b"),f=a("7ec5"),v=a("7789"),b=a("2f62"),k=a("3b51"),g=a("a321"),C=a("25b9"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"screen-bg"},[a("div",{staticClass:"dialog-container"},[a("div",{staticClass:"dialog-header"},[a("h2",[t._v(t._s(t.title))]),a("div",{staticClass:"close-button",on:{click:t.onClickClose}})]),a("div",{staticClass:"subtitle"},[t._t("subtitle"),a("div",{staticClass:"filler"}),t._t("time")],2),a("div",{staticClass:"dialog-body"},[t._t("body")],2),a("div",{staticClass:"dialog-footer"},[t._t("footer")],2)])])},E=[],R={name:"AccidentScenarioPopup",props:{title:{type:String,default:"사고 시나리오"}},methods:{onClickClose:function(){this.$emit("close")}}},q=R,w=(a("4632"),Object(d["a"])(q,y,E,!1,null,"29933b9a",null)),D=w.exports,P={name:"RealTimeRisk",components:{PageTitle:C["a"],ChartBox:g["a"],PanelSubTitle:k["a"],PanelTab:v["a"],RiskLabel:f["a"],RiskStepLabel:m["a"],PanelTitle:_["a"],RealtimeRiskInfo:p,AccidentScenarioPopup:D},data:function(){return{selectedEquipmentId:"",selectedEquipmentName:"",formatter:l["a"],accident_scenario_popup:{isShow:!1,anys_sys_cd:"",procs_nm:"",eqmt_nm:"",anys_time:""}}},computed:Object(r["a"])(Object(r["a"])({},Object(b["c"])(["realtimeRisk","realtimeEquipmentCrig","realtimeEquipmentPartDb","realtimeEquipmentKsec","realtimeAccidentScenarioPopup"])),{},{crigYmdList:function(){var t=[];return this.realtimeEquipmentCrig.list.forEach((function(e){var a=t[t.length-1];a&&a.ymd===e.ymd?a.count++:t.push({ymd:e.ymd,count:1})})),t}}),created:function(){this.queryData()},methods:{queryData:function(){var t=this;this.$store.dispatch("realtimeRisk").then((function(){var e={eqmt_id:t.realtimeRisk.eqmt[0].eqmt_id,eqmt_nm:t.realtimeRisk.eqmt[0].eqmt_nm};t.facilityTabChanged(e)}))},facilityTabChanged:function(t){console.log(t),this.selectedEquipmentId=t.eqmt_id,this.selectedEquipmentName=t.eqmt_nm,this.$store.dispatch("realtimeEquipmentCrig",{equipmentId:t.eqmt_id}),this.$store.dispatch("realtimeEquipmentPartDb",{equipmentId:t.eqmt_id}),this.$store.dispatch("realtimeEquipmentKsec",{equipmentId:t.eqmt_id})},showPopup:function(t,e,a,i,s){this.accident_scenario_popup.isShow=!0,this.accident_scenario_popup.anys_sys_cd=t,this.accident_scenario_popup.procs_nm=e,this.accident_scenario_popup.eqmt_nm=a,this.accident_scenario_popup.eqmt_id=i,this.accident_scenario_popup.anys_time=s},hidePopup:function(){this.accident_scenario_popup.isShow=!1},popupTimeText:function(){return"분석일시 : "+l["a"].date(this.accident_scenario_popup.anys_time)},popupRiskText:function(){return"KIES"===this.accident_scenario_popup.anys_sys_cd?"통합 위험률":"CRIG"===this.accident_scenario_popup.anys_sys_cd?"발생확률":"PARTDB"===this.accident_scenario_popup.anys_sys_cd?"고장확률":"KSEC"===this.accident_scenario_popup.anys_sys_cd?"위험확률":"통합 위험률"}}},x=P,I=(a("3fb7"),Object(d["a"])(x,i,s,!1,null,"42f58e98",null));e["default"]=I.exports},f217:function(t,e,a){}}]);
//# sourceMappingURL=chunk-90c8ee1a.js.map