(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cbbebe1"],{"1e8c":function(t,e,s){"use strict";var i=s("62bd"),a=s.n(i);a.a},"2e01":function(t,e,s){},"31b4":function(t,e,s){},3932:function(t,e,s){"use strict";var i=s("2e01"),a=s.n(i);a.a},"62bd":function(t,e,s){},7789:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"tab"},[t._l(t.items,(function(e,i){return s("li",{key:"filled_"+i,class:{active:t.index===i},on:{click:function(s){return t.onClick(i,e)}}},[t._v(" "+t._s(e[t.displayPropName])+" ")])})),t._l(t.getBlankNum(t.items),(function(t,e){return s("li",{key:"empty_"+e,staticClass:"blank-item"})}))],2)},a=[],n=(s("4160"),s("a9e3"),s("159b"),{name:"PanelTab",props:{items:Array,displayPropName:String,numsInRow:{type:Number,default:5},emitPropList:{type:Array,required:!0}},computed:{cssVars:function(){return{"--numsInRow":this.numsInRow}}},data:function(){return{index:0}},methods:{onClick:function(t,e){this.index=t;var s={};this.emitPropList&&this.emitPropList.length?this.emitPropList.forEach((function(t){s[t]=e[t]})):s[this.displayPropName]=e[this.displayPropName],this.$emit("change",s)},getBlankNum:function(t){var e=0;return t&&t.length&&(e=(this.numsInRow-t.length%this.numsInRow)%this.numsInRow),e}}}),r=n,c=(s("1e8c"),s("2877")),l=Object(c["a"])(r,i,a,!1,null,"1940b404",null);e["a"]=l.exports},a11c:function(t,e,s){"use strict";var i=s("31b4"),a=s.n(i);a.a},e5b2:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PageTitle"),i("RealtimeRiskInfo",{attrs:{all:t.realtimeRisk.all}}),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"위험도 높은 시설",desc:"실시간 위험도 높은 시설"}}),i("table",{staticClass:"default-table"},[t._m(0),i("tbody",t._l(t.realtimeRisk.procs,(function(e){return i("tr",{key:e.procs_id},[i("td",[t._v(t._s(e.procs_nm))]),i("td",[i("RiskStepLabel",{attrs:{name:e.risk_step_nm,code:e.risk_step_cd}})],1),i("th",[t._v(t._s(e.risk_num+e.risk_unit))]),i("td",[i("router-link",{attrs:{to:{path:"/analysis/process/"+e.procs_id,query:{procs_nm:e.procs_nm}}}},[i("button",{staticClass:"outline-dark"},[t._v(" 상세보기 "),i("img",{attrs:{src:s("92fe"),alt:"상세보기"}})])])],1)])})),0)])],1),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"위험도 높은 설비",desc:"실시간 위험도 높은 설비"}}),i("table",{staticClass:"default-table double-row-header"},[t._m(1),i("tbody",t._l(t.realtimeRisk.eqmt,(function(e){return i("tr",{key:e.eqmt_id},[i("td",[t._v(t._s(e.procs_nm))]),i("td",[t._v(t._s(e.eqmt_nm))]),i("td",[i("RiskStepLabel",{attrs:{useStepByName:!0,name:e.risk_step_nm}})],1),i("th",[t._v(t._s(e.risk_num+e.risk_unit))]),i("th",[t._v(t._s(e.norl)+"건")]),i("th",[t._v(t._s(e.care)+"건")]),i("th",[t._v(t._s(e.warg)+"건")]),i("th",[t._v(t._s(e.eror)+"건")]),i("td",[i("button",{staticClass:"outline-dark",on:{click:function(s){return t.showPopup("KIES",e.procs_nm,e.eqmt_nm,e.eqmt_id,t.realtimeRisk.all.anys_ymdhi)}}},[t._v(" 상세보기 "),i("img",{attrs:{src:s("92fe"),alt:"상세보기"}})])])])})),0)])],1),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"설비 분석 데이터",desc:"실시간 위험도 높은 설비의 24시간 분석 데이터"}}),i("PanelTab",{attrs:{items:t.realtimeRisk.eqmt,"display-prop-name":"eqmt_nm","emit-prop-list":["eqmt_id","eqmt_nm"]},on:{change:t.facilityTabChanged}}),i("PanelSubTitle",{attrs:{title:"센서 데이터 분석 위험도"}}),i("ChartBox",{attrs:{"raw-data":t.realtimeEquipmentCrig.list,"chart-type":"MAIN"}}),i("table",{staticClass:"default-table double-row-header"},[i("thead",[i("tr",[i("th",{attrs:{rowspan:"2",colspan:"2"}},[t._v("날짜/시간")]),t._l(t.crigYmdList,(function(e){return i("th",{key:e.ymd,attrs:{colspan:e.count}},[t._v(" "+t._s(t.formatter.date(e.ymd))+" ")])}))],2),i("tr",t._l(t.realtimeEquipmentCrig.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.qtime)+"시 ")])})),0)]),t.realtimeEquipmentCrig.list.length?i("tbody",[i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("위험단계")]),t._l(t.realtimeEquipmentCrig.list,(function(t,e){return i("td",{key:e},[i("RiskLabel",{attrs:{"text-data":t.risk_rate,showRiskLabel:!1}})],1)}))],2),i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("발생확률")]),t._l(t.realtimeEquipmentCrig.list,(function(t,e){return i("th",{key:e},[i("RiskLabel",{attrs:{"text-data":t.risk_rate,showRiskStep:!1}})],1)}))],2),i("tr",[t._m(2),i("th",[t._v("정상")]),t._l(t.realtimeEquipmentCrig.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.norl)+"건 ")])}))],2),i("tr",[i("th",[t._v("주의")]),t._l(t.realtimeEquipmentCrig.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.care)+"건 ")])}))],2),i("tr",[i("th",[t._v("경고")]),t._l(t.realtimeEquipmentCrig.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.warg)+"건 ")])}))],2),i("tr",[i("th",[t._v("위험")]),t._l(t.realtimeEquipmentCrig.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.eror)+"건 ")])}))],2),i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("사고 시나리오")]),t._l(t.realtimeEquipmentCrig.list,(function(e,a){return i("td",{key:a},[e?i("button",{staticClass:"outline-dark",on:{click:function(s){return t.showPopup("CRIG",e.procs_nm,t.selectedEquipmentName,t.selectedEquipmentId,e.ymd+e.qtime+"00")}}},[t._v(" 상세보기 "),i("img",{attrs:{src:s("92fe"),alt:"상세보기"}})]):i("span",[t._v("-")])])}))],2)]):t._e()]),i("PanelSubTitle",{attrs:{title:"예지보전 위험도"}}),i("table",{staticClass:"default-table double-row-header"},[t._m(3),i("tbody",t._l(t.realtimeEquipmentPartDb.list,(function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(t.formatter.date(e.anys_ymdh,"MM/dd hh:mm")))]),i("td",[i("RiskLabel",{attrs:{"text-data":e.risk_value,showRiskLabel:!1}})],1),i("th",[i("RiskLabel",{attrs:{"text-data":e.risk_value,showRiskStep:!1}})],1),i("th",[t._v(t._s(e.NORL)+"건")]),i("th",[t._v(t._s(e.CARE)+"건")]),i("th",[t._v(t._s(e.WARG)+"건")]),i("th",[t._v(t._s(e.EROR)+"건")]),i("td",[i("button",{staticClass:"outline-dark",on:{click:function(s){return t.showPopup("PARTDB",null,e.eqmt_nm,t.selectedEquipmentId,e.anys_ymdh+"00")}}},[t._v(" 상세보기 "),i("img",{attrs:{src:s("92fe"),alt:"상세보기"}})])])])})),0)]),i("PanelSubTitle",{attrs:{title:"영상 데이터 분석 위험도"}}),i("table",{staticClass:"default-table double-row-header"},[t._m(4),i("tbody",t._l(t.realtimeEquipmentKsec.list,(function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(t.formatter.date(e.anys_ymdh,"MM/dd hh:mm")))]),i("td",[i("RiskLabel",{attrs:{"text-data":e.risk_value,showRiskLabel:!1}}),t._m(5,!0)],1),i("th",[i("RiskLabel",{attrs:{"text-data":e.risk_value,showRiskStep:!1}})],1),i("th",[t._v(t._s(e.norl)+"건")]),i("th",[t._v(t._s(e.care)+"건")]),i("th",[t._v(t._s(e.warg)+"건")]),i("th",[t._v(t._s(e.eror)+"건")]),i("td",[i("button",{staticClass:"outline-dark",on:{click:function(s){return t.showPopup("KSEC",null,e.eqmt_nm,t.selectedEquipmentId,e.anys_ymdh+"00")}}},[t._v(" 상세보기 "),i("img",{attrs:{src:s("92fe"),alt:"상세보기"}})])])])})),0)])],1),t.accident_scenario_popup.isShow?i("AccidentScenarioPopup",{staticClass:"no-hr-line",on:{close:t.hidePopup},scopedSlots:t._u([t.accident_scenario_popup.procs_nm&&t.accident_scenario_popup.procs_nm.length>0?{key:"subtitle",fn:function(){return[i("h2",[t._v(t._s(t.accident_scenario_popup.procs_nm)),i("img",{staticClass:"arrow",attrs:{src:s("92fe"),alt:""}}),t._v(t._s(t.accident_scenario_popup.eqmt_nm))])]},proxy:!0}:t.accident_scenario_popup.eqmt_nm&&t.accident_scenario_popup.eqmt_nm.length>0?{key:"subtitle",fn:function(){return[i("h2",[t._v(t._s(t.accident_scenario_popup.eqmt_nm))])]},proxy:!0}:{key:"subtitle",fn:function(){return[i("h2",[t._v("장비 이름 없음")])]},proxy:!0},{key:"time",fn:function(){return[i("h3",[t._v(t._s(t.popupTimeText()))])]},proxy:!0},{key:"body",fn:function(){return[i("table",{staticClass:"default-table in-popup"},[i("thead",[i("tr",[i("th",[t._v("사고 코드")]),i("th",[t._v("사고 발생 원인")]),i("th",[t._v("사고 발생 내용")]),i("th",[t._v("점검 사항")]),i("th",[t._v("위험단계")]),i("th",[t._v(t._s(t.popupRiskText()))])])]),i("tbody",t._l(t.realtimeAccidentScenarioPopup.list,(function(e,s){return i("tr",{key:s},[i("th",[t._v(t._s(e.SCEN_NM))]),i("th",[t._v(t._s(e.SCEN_CAUSE))]),i("th",[t._v(t._s(e.SCEN_RESULT))]),i("th",[t._v(t._s(e.ETC))]),i("td",[i("RiskLabel",{attrs:{"text-data":e.risk_rate,showRiskLabel:!1}})],1),i("th",[i("RiskLabel",{attrs:{"text-data":e.risk_rate,showRiskStep:!1}})],1)])})),0)])]},proxy:!0}],null,!0)}):t._e()],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("시설")]),s("th",[t._v("통합 위험 단계")]),s("th",[t._v("통합 위험률")]),s("th",{staticClass:"w200"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{rowspan:"2"}},[t._v("시설")]),s("th",{attrs:{rowspan:"2"}},[t._v("이상 설비")]),s("th",{attrs:{rowspan:"2"}},[t._v("위험 단계")]),s("th",{attrs:{rowspan:"2"}},[t._v("통합 위혐률")]),s("th",{attrs:{colspan:"4"}},[t._v("사고 시나리오 위험 단계")]),s("th",{attrs:{rowspan:"2"}},[t._v("사고 시나리오")])]),s("tr",[s("th",[t._v("정상")]),s("th",[t._v("주의")]),s("th",[t._v("경고")]),s("th",{staticClass:"no-radius border-right"},[t._v("위험")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{attrs:{rowspan:"4"}},[t._v("사고"),s("br"),t._v("시나리오"),s("br"),t._v("위험 단계")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{rowspan:"2"}},[t._v("날짜/시간")]),s("th",{attrs:{rowspan:"2"}},[t._v("위험 단계")]),s("th",{attrs:{rowspan:"2"}},[t._v("고장확률")]),s("th",{attrs:{colspan:"4"}},[t._v("사고 시나리오 위험 단계")]),s("th",{attrs:{rowspan:"2"}},[t._v("사고 시나리오")])]),s("tr",[s("th",[t._v("정상")]),s("th",[t._v("주의")]),s("th",[t._v("경고")]),s("th",{staticClass:"no-radius border-right"},[t._v("위험")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{rowspan:"2"}},[t._v("날짜/시간")]),s("th",{attrs:{rowspan:"2"}},[t._v("위험 단계")]),s("th",{attrs:{rowspan:"2"}},[t._v("고장확률")]),s("th",{attrs:{colspan:"4"}},[t._v("사고 시나리오 위험 단계")]),s("th",{attrs:{rowspan:"2"}},[t._v("사고 시나리오")])]),s("tr",[s("th",[t._v("정상")]),s("th",[t._v("주의")]),s("th",[t._v("경고")]),s("th",{staticClass:"no-radius border-right"},[t._v("위험")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{target:"_blank"}},[s("button",{staticClass:"default-button"},[t._v("항공사진 >")])])}],n=(s("4160"),s("fb6a"),s("159b"),s("5530")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"realtime-title"},[i("div",{staticClass:"title-header page-box"},[t._m(0),i("div",{staticClass:"risk-level"},[i("span",[t._v("통합 위험 단계")]),i("span",{staticClass:"level-sign",class:t.riskStep},[t._v(" "+t._s(t.riskStepSign)+" ")])]),i("div",{staticClass:"risk-percent"},[i("span",[t._v("통합 위험률")]),i("span",{staticClass:"percent-sign",class:t.riskStep},[i("span",[t._v(t._s(t.all.risk_num))]),i("span",[t._v(t._s(t.all.risk_unit))])])])]),i("div",{staticClass:"refresh-button",on:{click:t.refreshData}},[i("div",{staticClass:"button-label"},[i("img",{class:{loading:t.isLoading},attrs:{src:s("2630"),alt:"새로고침 아이콘"}}),t._v(" 데이터 새로고침 ")]),i("div",{staticClass:"update-time"},[i("span",[t._v(t._s(t.updatedTime))]),t._v(" 기준 ")])])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h4",[i("img",{attrs:{src:s("04ed"),alt:"실시간 전체 시설 위험도 아이콘"}}),i("span",{staticClass:"title-text"},[t._v("전체 계통 ㅣ 실시간 시설 위험도")])])}],l=s("4ba1"),o={name:"RealtimeRiskInfo",props:{all:Object},data:function(){return{formatter:l["a"],isLoading:!1,isLoaded:!1,timerId:null}},created:function(){},computed:{riskStepSign:function(){return this.all.risk_step_nm?this.all.risk_step_nm.substr(0,2)+" "+this.riskLevel+"단계":""},riskStep:function(){return this.all.risk_step_cd?this.all.risk_step_cd.substr(0,2):""},riskLevel:function(){return this.all.risk_step_cd?this.all.risk_step_cd.substr(-1,1):""},updatedTime:function(){return l["a"].date(this.all.anys_ymdhi)}},methods:{refreshData:function(){var t=this;null===this.timerId&&(this.timerId=setInterval(this.checkLoaded,2e3),this.isLoading=!0,this.isLoaded=!1,this.$store.dispatch("realtimeRisk").then((function(){t.isLoaded=!0})))},checkLoaded:function(){this.isLoaded&&(clearInterval(this.timerId),this.timerId=null,this.isLoading=!1,console.log("<<<<< this.timerId",this.timerId))},cancelAutoUpdate:function(){}},beforeUnmount:function(){}},_=o,u=(s("3932"),s("2877")),p=Object(u["a"])(_,r,c,!1,null,"7523b994",null),d=p.exports,m=s("c6f9"),h=s("6e4b"),v=s("7ec5"),f=s("7789"),k=s("2f62"),b=s("3b51"),y=s("a321"),q=s("25b9"),C=s("602f"),g={name:"RealTimeRisk",components:{PageTitle:q["a"],ChartBox:y["a"],PanelSubTitle:b["a"],PanelTab:f["a"],RiskLabel:v["a"],RiskStepLabel:h["a"],PanelTitle:m["a"],RealtimeRiskInfo:d,AccidentScenarioPopup:C["a"]},data:function(){return{selectedEquipmentId:"",selectedEquipmentName:"",formatter:l["a"],accident_scenario_popup:{isShow:!1,anys_sys_cd:"",procs_nm:"",eqmt_nm:"",anys_time:""}}},computed:Object(n["a"])(Object(n["a"])({},Object(k["c"])(["realtimeRisk","realtimeEquipmentCrig","realtimeEquipmentPartDb","realtimeEquipmentKsec","realtimeAccidentScenarioPopup"])),{},{crigYmdList:function(){var t=[];return this.realtimeEquipmentCrig.list.forEach((function(e){var s=t[t.length-1];s&&s.ymd===e.ymd?s.count++:t.push({ymd:e.ymd,count:1})})),t}}),created:function(){this.queryData()},methods:{queryData:function(){var t=this;this.$store.dispatch("realtimeRisk").then((function(){var e={eqmt_id:t.realtimeRisk.eqmt[0].eqmt_id,eqmt_nm:t.realtimeRisk.eqmt[0].eqmt_nm};t.facilityTabChanged(e)}))},facilityTabChanged:function(t){console.log(t),this.selectedEquipmentId=t.eqmt_id,this.selectedEquipmentName=t.eqmt_nm,this.$store.dispatch("realtimeEquipmentCrig",{equipmentId:t.eqmt_id}),this.$store.dispatch("realtimeEquipmentPartDb",{equipmentId:t.eqmt_id}),this.$store.dispatch("realtimeEquipmentKsec",{equipmentId:t.eqmt_id})},showPopup:function(t,e,s,i,a){this.accident_scenario_popup.isShow=!0,this.accident_scenario_popup.anys_sys_cd=t,this.accident_scenario_popup.procs_nm=e,this.accident_scenario_popup.eqmt_nm=s,this.accident_scenario_popup.eqmt_id=i,this.accident_scenario_popup.anys_time=a,this.$store.dispatch("realtimeAccidentScenarioPopup",{anayseSystemCode:this.accident_scenario_popup.anys_sys_cd,eqmtID:this.accident_scenario_popup.eqmt_id,anayseYMDH:this.accident_scenario_popup.anys_time.slice(0,10)})},hidePopup:function(){this.accident_scenario_popup.isShow=!1},popupTimeText:function(){return"분석일시 : "+l["a"].date(this.accident_scenario_popup.anys_time)},popupRiskText:function(){return"KIES"===this.accident_scenario_popup.anys_sys_cd?"통합 위험률":"CRIG"===this.accident_scenario_popup.anys_sys_cd?"발생확률":"PARTDB"===this.accident_scenario_popup.anys_sys_cd?"고장확률":"KSEC"===this.accident_scenario_popup.anys_sys_cd?"위험확률":"통합 위험률"}}},R=g,w=(s("a11c"),Object(u["a"])(R,i,a,!1,null,"35fd649b",null));e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-6cbbebe1.js.map