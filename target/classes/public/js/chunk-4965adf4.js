(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4965adf4"],{"10ec":function(t,e,a){},"2b90":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"pagination"},[a("li",{class:{disabled:1===t.pageIndex||0===t.totalPages},on:{click:t.prev}},[t._v(" < 이전 ")]),t._l(t.pageList,(function(e,n){return a("li",{key:n,class:{active:t.pageIndex===e},on:{click:function(a){return t.onChange(e)}}},[t._v(" "+t._s(e)+" ")])})),a("li",{class:{disabled:t.pageIndex===t.totalPages||0===t.totalPages},on:{click:t.next}},[t._v("다음 >")])],2)},i=[],s=(a("a9e3"),{name:"Pagination",props:{totalCount:{type:Number,default:0},maxDisplayPageCount:{type:Number,default:5},pageIndex:{type:Number,default:1},pageSize:{type:Number,default:100}},computed:{totalPages:function(){return Math.ceil(this.totalCount/this.pageSize)},pageCount:function(){return this.totalPages>this.maxDisplayPageCount?this.maxDisplayPageCount:this.totalPages},pageList:function(){var t=this.pageIndex>3?this.pageIndex-2:1,e=this.totalPages-this.pageIndex;t=this.totalPages>this.maxDisplayPageCount&&e<3?t-(this.maxDisplayPageCount-e-3):t;for(var a=[],n=0;n<this.pageCount;++n)a.push(t+n);return a}},methods:{onChange:function(t){this.pageIndex!==t&&this.$emit("change",t)},prev:function(){1!==this.pageIndex&&this.onChange(this.pageIndex-1)},next:function(){this.pageIndex!==this.totalPages&&this.onChange(this.pageIndex+1)}}}),o=s,r=(a("9750"),a("2877")),l=Object(r["a"])(o,n,i,!1,null,"119af7fa",null);e["a"]=l.exports},"3dde":function(t,e,a){"use strict";var n=a("92f3"),i=a.n(n);i.a},"4ba1":function(t,e,a){"use strict";a("ac1f"),a("1276");var n={date:function(t,e){if(!t)return"";var a=t.substr(0,4),i=t.substr(4,2),s=t.substr(6,2),o=t.substr(8,2),r=t.substr(10,2),l=t.substr(12,2),c=""===o||""===r?"":" "+o+":"+r;if(c=""===l?c:" "+c+":"+l,"MM/dd~MM/dd"===e){var u=t.split("~");return n.date(u[0],"MM/dd")+"~"+n.date(u[1],"MM/dd")}return"MM/dd"===e?i+"/"+s:a+"-"+i+"-"+s+c}};e["a"]=n},"92f3":function(t,e,a){},9750:function(t,e,a){"use strict";var n=a("d72f"),i=a.n(n);i.a},d72f:function(t,e,a){},f2b6:function(t,e,a){"use strict";var n=a("10ec"),i=a.n(n);i.a},f551:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("PageTitle"),n("div",{staticClass:"page-box filtering"},[n("RiskFiltering",{on:{change:t.onChangeFilter}})],1),n("div",{staticClass:"page-box"},[n("PanelTitle",{attrs:{title:"생산공정 목록"}}),n("table",{staticClass:"default-table"},[t._m(0),n("tbody",t._l(t.riskHistory.list,(function(e,i){return n("tr",{key:i},[n("td",[t._v(t._s(t.getNumberByRowOrder(e.RO)))]),n("td",[t._v(t._s(e.procs_nm))]),n("td",[n("RiskStepLabel",{attrs:{"enforce-step-suffix":!0,name:e.risk_step_nm,code:e.risk_step_cd}})],1),n("td",[t._v(t._s(e.risk_num+e.risk_unit))]),n("td",[t._v(t._s(t.formatter.date(e.anys_ymdhi)))]),n("td",[n("router-link",{staticClass:"btn",attrs:{to:{path:"/analysis/process/"+e.procs_id,query:{procs_nm:e.procs_nm}}}},[t._v(" 상세보기 "),n("img",{attrs:{src:a("92fe"),alt:"상세보기"}})])],1)])})),0)]),n("Pagination",{attrs:{"page-index":this.pageIndex,"total-count":t.riskHistory.totalcount,"page-size":this.pageSize},on:{change:t.onChangePage}})],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("No.")]),a("th",[t._v("생산공정")]),a("th",[t._v("위험단계")]),a("th",[t._v("위험률")]),a("th",[t._v("최근 분석 시간")]),a("th",{staticClass:"w200"},[t._v("상세")])])])}],s=a("5530"),o=a("c6f9"),r=a("6e4b"),l=a("2f62"),c=a("4ba1"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-container"},[a("h4",{staticClass:"title"},[t._v("위험도")]),t._l(t.list,(function(e){return a("label",{key:e.value},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.bool,expression:"item.bool"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.bool)?t._i(e.bool,null)>-1:e.bool},on:{change:[function(a){var n=e.bool,i=a.target,s=!!i.checked;if(Array.isArray(n)){var o=null,r=t._i(n,o);i.checked?r<0&&t.$set(e,"bool",n.concat([o])):r>-1&&t.$set(e,"bool",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e,"bool",s)},t.onChange]}}),t._v(" "+t._s(e.name)+" ")])}))],2)},d=[],g=(a("4160"),a("159b"),{name:"RiskFiltering",data:function(){return{list:[{name:"정상",value:"NORL",bool:!0},{name:"주의",value:"CARE",bool:!0},{name:"경고",value:"WARG",bool:!0},{name:"위험",value:"DGER",bool:!0}]}},methods:{onChange:function(){console.log(this.list);var t="";this.list.forEach((function(e){e.bool&&(t.length>0&&(t+=","),t+=e.value)})),this.$emit("change",t)}}}),h=g,p=(a("f2b6"),a("2877")),f=Object(p["a"])(h,u,d,!1,null,"154fe5c2",null),b=f.exports,v=a("2b90"),_=a("25b9"),m={name:"RiskHistory",components:{PageTitle:_["a"],Pagination:v["a"],RiskFiltering:b,RiskStepLabel:r["a"],PanelTitle:o["a"]},computed:Object(s["a"])({},Object(l["c"])(["riskHistory"])),data:function(){return{formatter:c["a"],pageIndex:1,pageSize:20,filtering:"NORL,CARE,WARG,DGER"}},created:function(){this.queryList()},methods:{queryList:function(){var t={queryString:"?pagesize="+this.pageSize+"&pageindex="+this.pageIndex+"&risk_step_cd="+this.filtering};this.$store.dispatch("riskHistory",t)},getNumberByRowOrder:function(t){return this.riskHistory.totalcount-t+1},onChangeFilter:function(t){console.log(t),this.pageIndex=1,this.filtering=t,this.queryList()},onChangePage:function(t){this.pageIndex=t,console.log(t),this.queryList()}}},y=m,x=(a("3dde"),Object(p["a"])(y,n,i,!1,null,"0bcd1cc9",null));e["default"]=x.exports}}]);
//# sourceMappingURL=chunk-4965adf4.js.map