(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5141eea4"],{"0869":function(t,e,s){"use strict";var i=s("55c9"),n=s.n(i);n.a},"55c9":function(t,e,s){},"71b2":function(t,e,s){"use strict";var i=s("c22d"),n=s.n(i);n.a},c22d:function(t,e,s){},e609:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("PageTitle"),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"24시간 예측 위험도 높은 설비"}}),i("div",{staticClass:"container"},[i("div",{staticClass:"table-container"},[i("table",{staticClass:"default-table"},[t._m(0),i("tbody",t._l(t.predictEquipmentRiskTop10.hour24.slice(0,5),(function(e,s){return i("tr",{key:s},[i("th",[t._v(t._s(s+1))]),i("td",[t._v(t._s(e.procs_nm)),i("span",{staticClass:"arrow"},[t._v(">")]),t._v(t._s(e.eqmt_nm))]),i("td",[i("RiskStepLabel",{attrs:{useStepByName:!0,name:e.risk_step_nm}})],1),i("th",[t._v(t._s(e.risk_num+e.risk_unit))])])})),0)])]),i("div",{staticClass:"table-container"},[i("table",{staticClass:"default-table"},[t._m(1),i("tbody",t._l(t.predictEquipmentRiskTop10.hour24.slice(5,10),(function(e,s){return i("tr",{key:s},[i("th",[t._v(t._s(s+6))]),i("td",[t._v(t._s(e.procs_nm)),i("span",{staticClass:"arrow"},[t._v(">")]),t._v(t._s(e.eqmt_nm))]),i("td",[i("RiskStepLabel",{attrs:{useStepByName:!0,name:e.risk_step_nm}})],1),i("th",[t._v(t._s(e.risk_num+e.risk_unit))])])})),0)])])])],1),i("div",{staticClass:"page-box"},[i("PanelTitle",{attrs:{title:"위험도 예측"}}),i("PredictionFiltering",{on:{filtering:t.onFiltering}}),i("PanelSubTitle",{attrs:{title:"통합 위험도 예측"}}),i("ChartBox",{attrs:{"raw-data":t.predictEquipmentHour24.list,"chart-type":"PREDICTION24HOUR"}}),i("table",{staticClass:"default-table double-row-header"},[i("thead",[i("tr",[i("th",{attrs:{rowspan:"2",colspan:"2"}},[t._v("날짜/시간")]),t._l(t.ymdList,(function(e){return i("th",{key:e.ymd,attrs:{colspan:e.count}},[t._v(" "+t._s(t.formatter.date(e.ymd,"MM/dd"))+" ")])}))],2),i("tr",t._l(t.predictEquipmentHour24.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.qtime)+"시 ")])})),0)]),t.predictEquipmentHour24.list.length?i("tbody",[i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("위험단계")]),t._l(t.predictEquipmentHour24.list,(function(t){return i("td",{key:t.qtime},[i("RiskLabel",{attrs:{"text-data":t.risk_rate,showRiskLabel:!1}})],1)}))],2),i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("발생확률")]),t._l(t.predictEquipmentHour24.list,(function(t,e){return i("th",{key:e},[i("RiskLabel",{attrs:{"text-data":t.risk_rate,showRiskStep:!1}})],1)}))],2),i("tr",[t._m(2),i("th",[t._v("정상")]),t._l(t.predictEquipmentHour24.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.norl)+"건 ")])}))],2),i("tr",[i("th",[t._v("주의")]),t._l(t.predictEquipmentHour24.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.care)+"건 ")])}))],2),i("tr",[i("th",[t._v("경고")]),t._l(t.predictEquipmentHour24.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.warg)+"건 ")])}))],2),i("tr",[i("th",[t._v("위험")]),t._l(t.predictEquipmentHour24.list,(function(e,s){return i("th",{key:s},[t._v(" "+t._s(e.eror)+"건 ")])}))],2),i("tr",[i("th",{attrs:{colspan:"2"}},[t._v("사고 시나리오")]),t._l(t.predictEquipmentHour24.list,(function(e,n){return i("td",{key:n},[e?i("button",{staticClass:"outline-dark",on:{click:function(s){return t.showPopup("KIES",t.selectedProcessName,t.selectedEquipmentName,t.selectedEquipmentId,e.ymd+e.qtime+"00")}}},[t._v(" 상세보기 "),i("img",{attrs:{src:s("92fe"),alt:"상세보기"}})]):i("span",[t._v("-")])])}))],2)]):t._e()])],1),t.accident_scenario_popup.isShow?i("AccidentScenarioPopup",{staticClass:"no-hr-line",on:{close:t.hidePopup},scopedSlots:t._u([t.accident_scenario_popup.procs_nm&&t.accident_scenario_popup.procs_nm.length>0?{key:"subtitle",fn:function(){return[i("h2",[t._v(t._s(t.accident_scenario_popup.procs_nm)),i("img",{staticClass:"arrow",attrs:{src:s("92fe"),alt:""}}),t._v(t._s(t.accident_scenario_popup.eqmt_nm))])]},proxy:!0}:t.accident_scenario_popup.eqmt_nm&&t.accident_scenario_popup.eqmt_nm.length>0?{key:"subtitle",fn:function(){return[i("h2",[t._v(t._s(t.accident_scenario_popup.eqmt_nm))])]},proxy:!0}:{key:"subtitle",fn:function(){return[i("h2",[t._v("장비 이름 없음")])]},proxy:!0},{key:"time",fn:function(){return[i("h3",[t._v(t._s(t.popupTimeText()))])]},proxy:!0},{key:"body",fn:function(){return[i("table",{staticClass:"default-table in-popup"},[i("thead",[i("tr",[i("th",[t._v("사고 코드")]),i("th",[t._v("사고 발생 원인")]),i("th",[t._v("사고 발생 내용")]),i("th",[t._v("점검 사항")]),i("th",[t._v("위험단계")]),i("th",[t._v(t._s(t.popupRiskText()))])])]),i("tbody",t._l(t.realtimeAccidentScenarioPopup.list,(function(e,s){return i("tr",{key:s},[i("th",[t._v(t._s(e.scen_nm))]),i("th",[t._v(t._s(e.scen_cause))]),i("th",[t._v(t._s(e.scen_result))]),i("th",[t._v(t._s(e.etc))]),i("td",[i("RiskLabel",{attrs:{"text-data":e.RISK_RATE,showRiskLabel:!1}})],1),i("th",[i("RiskLabel",{attrs:{"text-data":e.RISK_RATE,showRiskStep:!1}})],1)])})),0)])]},proxy:!0}],null,!0)}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("순위")]),s("th",[t._v("설비")]),s("th",[t._v("위험단계")]),s("th",[t._v("발생확률")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("순위")]),s("th",[t._v("설비")]),s("th",[t._v("위험단계")]),s("th",[t._v("발생확률")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("th",{attrs:{rowspan:"4"}},[t._v("사고"),s("br"),t._v("시나리오"),s("br"),t._v("위험 단계")])}],c=(s("4160"),s("fb6a"),s("159b"),s("5530")),r=s("2f62"),a=s("c6f9"),o=s("3b51"),p=s("6e4b"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"filter-container"},[s("h4",{staticClass:"title"},[t._v("설비")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProcs,expression:"selectProcs"}],on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProcs=e.target.multiple?s:s[0]},t.onProcessChange]}},[s("option",{attrs:{value:"all"}},[t._v("전체 시설")]),t._l(t.process,(function(e){return s("option",{key:e.procs_id,domProps:{value:e.procs_id}},[t._v(" "+t._s(e.procs_nm)+" ")])}))],2),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selectEqmt,expression:"selectEqmt"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectEqmt=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"all"}},[t._v("전체 설비")]),t._l(t.equipment,(function(e){return s("option",{key:e.eqmt_id,domProps:{value:e.eqmt_id}},[t._v(" "+t._s(e.eqmt_nm)+" ")])}))],2),s("button",{on:{click:t.onClick}},[t._v("검색")])])},_=[],l={name:"PredictionFiltering",computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(r["c"])("common/process",["process"])),Object(r["c"])("common/equipment",["equipment"])),{},{activeEquipmentId:function(){return this.activeEquipId}}),data:function(){return{selectedProcessName:"",selectedEquipmentName:"",selectProcs:"all",selectEqmt:"all"}},created:function(){this.$store.dispatch("common/process/query",{queryString:""})},methods:{onClick:function(){for(var t in this.process)this.process[t].procs_id===this.selectProcs&&(this.selectedProcessName=this.process[t].procs_nm);for(var e in this.equipment)this.equipment[e].eqmt_id===this.selectEqmt&&(this.selectedEquipmentName=this.equipment[e].eqmt_nm);this.$emit("filtering",{process:this.selectProcs,equipment:this.selectEqmt,selected_process_nm:this.selectedProcessName,selected_equipment_nm:this.selectedEquipmentName})},onProcessChange:function(){this.selectEqmt="all","all"===this.selectProcs?this.$store.dispatch("common/equipment/clear",{stateName:"equipment"}):this.$store.dispatch("common/equipment/query",{queryString:"?procs_id="+this.selectProcs})}}},d=l,m=(s("71b2"),s("2877")),h=Object(m["a"])(d,u,_,!1,null,"22813da4",null),v=h.exports,f=s("a321"),q=s("4ba1"),y=s("7ec5"),b=s("25b9"),k=s("602f"),E={name:"RiskPrediction",components:{PageTitle:b["a"],RiskLabel:y["a"],ChartBox:f["a"],PredictionFiltering:v,RiskStepLabel:p["a"],PanelSubTitle:o["a"],PanelTitle:a["a"],AccidentScenarioPopup:k["a"]},computed:Object(c["a"])(Object(c["a"])({},Object(r["c"])(["predictEquipmentRiskTop10","predictEquipmentHour24","realtimeAccidentScenarioPopup"])),{},{ymdList:function(){var t=[];return this.predictEquipmentHour24.list.forEach((function(e){var s=t[t.length-1];s&&s.ymd===e.ymd?s.count++:t.push({ymd:e.ymd,count:1})})),t}}),created:function(){this.$store.dispatch("predictEquipmentRiskTop10")},data:function(){return{selectedProcessId:"",selectedProcessName:"",selectedEquipmentId:"",selectedEquipmentName:"",formatter:q["a"],accident_scenario_popup:{isShow:!1,anys_sys_cd:"",procs_nm:"",eqmt_nm:"",anys_time:""}}},methods:{onFiltering:function(t){console.log(t),this.selectedProcessId=t.process,this.selectedProcessName=t.selected_process_nm,this.selectedEquipmentId=t.equipment,this.selectedEquipmentName=t.selected_equipment_nm,console.log(this.selectedEquipmentId),this.$store.dispatch("predictEquipmentHour24",t)},showPopup:function(t,e,s,i,n){this.accident_scenario_popup.isShow=!0,this.accident_scenario_popup.anys_sys_cd=t,this.accident_scenario_popup.procs_nm=e,this.accident_scenario_popup.eqmt_nm=s,this.accident_scenario_popup.eqmt_id=i,this.accident_scenario_popup.anys_time=n,this.$store.dispatch("realtimeAccidentScenarioPopup",{anayseSystemCode:this.accident_scenario_popup.anys_sys_cd,eqmtID:this.accident_scenario_popup.eqmt_id,anayseYMDH:this.accident_scenario_popup.anys_time.slice(0,10)})},hidePopup:function(){this.accident_scenario_popup.isShow=!1},popupTimeText:function(){return"분석일시 : "+q["a"].date(this.accident_scenario_popup.anys_time)},popupRiskText:function(){return"KIES"===this.accident_scenario_popup.anys_sys_cd?"통합 위험률":"CRIG"===this.accident_scenario_popup.anys_sys_cd?"발생확률":"PARTDB"===this.accident_scenario_popup.anys_sys_cd?"고장확률":"KSEC"===this.accident_scenario_popup.anys_sys_cd?"위험확률":"통합 위험률"}}},P=E,g=(s("0869"),Object(m["a"])(P,i,n,!1,null,"5eeb92ba",null));e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-5141eea4.js.map