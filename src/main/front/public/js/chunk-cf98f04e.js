(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf98f04e"],{"031d":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"filter-container"},[a("h4",{staticClass:"title"},[e._v(e._s(e.processTitle))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectProcs,expression:"selectProcs"}],on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectProcs=t.target.multiple?a:a[0]},e.onProcessChange]}},[a("option",{attrs:{value:""}},[e._v("전체 생산공정")]),e._l(e.process,(function(t){return a("option",{key:t.procs_id,domProps:{value:t.procs_id}},[e._v(" "+e._s(t.procs_nm)+" ")])}))],2),a("h4",{staticClass:"title",class:{"blank-title":null===e.equipmentTitle}},[e._v(e._s(e.equipmentTitle))]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectEqmt,expression:"selectEqmt"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectEqmt=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("전체 설비")]),e._l(e.equipment,(function(t){return a("option",{key:t.eqmt_id,domProps:{value:t.eqmt_id}},[e._v(" "+e._s(t.eqmt_nm)+" ")])}))],2),e.hasDateRangePicker?[a("h4",{staticClass:"title"},[e._v(e._s(e.datepickerTitle))]),a("div",{staticClass:"datepicker-container"},[e._m(0),a("DateRangePicker",{ref:"picker",attrs:{opens:e.dateRange.opens,"locale-data":e.dateRange.localeData,showDropdowns:e.dateRange.showDropdowns,autoApply:e.dateRange.autoApply,ranges:e.dateRange.showRange},on:{update:e.onUpdateDateRange},scopedSlots:e._u([{key:"input",fn:function(t){return[e._v(" "+e._s(e._f("date")(t.startDate))+" - "+e._s(e._f("date")(t.endDate))+" ")]}}],null,!1,3375447491),model:{value:e.selectedDateRange,callback:function(t){e.selectedDateRange=t},expression:"selectedDateRange"}})],1)]:e._e(),e.hasLeakageCheck?[a("h4",{staticClass:"title"},[e._v("누출위험")]),e._l(e.checkboxList,(function(t){return a("label",{key:t.value},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.bool,expression:"item.bool"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.bool)?e._i(t.bool,null)>-1:t.bool},on:{change:[function(a){var s=t.bool,i=a.target,n=!!i.checked;if(Array.isArray(s)){var o=null,r=e._i(s,o);i.checked?r<0&&e.$set(t,"bool",s.concat([o])):r>-1&&e.$set(t,"bool",s.slice(0,r).concat(s.slice(r+1)))}else e.$set(t,"bool",n)},e.onCheckboxChange]}}),e._v(" "+e._s(t.name)+" ")])}))]:e._e(),e.hasWorkStatSelector?[a("h4",{staticClass:"title"},[e._v("상태")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedWorkStatCode,expression:"selectedWorkStatCode"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedWorkStatCode=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("전체")]),e._l(e.WORK_STAT_CD,(function(e){return a("option",{key:e.cd_id,attrs:{label:e.cd_nm},domProps:{value:e.cd_id}})}))],2)]:e._e(),a("button",{attrs:{disabled:e.requireSelectEquipment&&""===e.selectEqmt},on:{click:e.onClick}},[e._v("검색")])],2)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"icon"},[s("img",{attrs:{src:a("7cb0"),alt:"calender icon"}})])}],n=(a("4160"),a("159b"),a("5530")),o=a("2f62"),r=a("bbf5"),l=a.n(r),c=(a("4b7f"),a("5a0c")),u=a.n(c),d={name:"ProcessEquipmentFiltering",components:{DateRangePicker:l.a},props:{requireSelectEquipment:Boolean,hasDateRangePicker:Boolean,hasLeakageCheck:Boolean,hasWorkStatSelector:Boolean,startDate:{type:String},endDate:{type:String},processTitle:{type:String,default:"생산공정"},equipmentTitle:{type:String,default:"설 비"},datepickerTitle:{type:String,default:"날 짜"}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["c"])("common/process",["process"])),Object(o["c"])("common/equipment",["equipment"])),Object(o["c"])("common/code",["WORK_STAT_CD"])),{},{activeEquipmentId:function(){return this.activeEquipId}}),data:function(){var e=this.startDate?u()(this.startDate).format("YYYY-MM-DD"):u()().format("YYYY-MM-DD"),t=this.endDate?u()(this.endDate).format("YYYY-MM-DD"):u()().format("YYYY-MM-DD");return{selectProcs:"",selectEqmt:"",dayjs:u.a,selectedDateRange:{startDate:e,endDate:t},dateRange:{today:new Date,opens:"left",showDropdowns:!1,showRange:!1,localeData:{direction:"ltr",format:"yyyy-mm-dd",separator:" ~ ",applyLabel:"적용",cancelLabel:"취소",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],firstDay:0}},checkboxList:[{name:"ON",value:"on",bool:!0},{name:"OFF",value:"off",bool:!0}],selectedWorkStatCode:""}},created:function(){this.$store.dispatch("common/process/query",{queryString:""}),this.hasWorkStatSelector&&this.$store.dispatch("common/code/query",{code:"WORK_STAT_CD"})},filters:{date:function(e){return e?u()(e).format("YYYY-MM-DD"):""}},methods:{onClick:function(){var e={processId:this.selectProcs,equipmentId:this.selectEqmt};this.hasDateRangePicker&&(e["startDate"]=u()(this.selectedDateRange.startDate).format("YYYYMMDD"),e["endDate"]=u()(this.selectedDateRange.endDate).format("YYYYMMDD")),this.hasWorkStatSelector&&(e["workStat"]=this.selectedWorkStatCode),this.$emit("filtering",e)},onProcessChange:function(){this.selectEqmt="",""===this.selectProcs?this.$store.dispatch("common/equipment/clear",{stateName:"equipment"}):this.$store.dispatch("common/equipment/query",{queryString:"?procs_id="+this.selectProcs})},onUpdateDateRange:function(e){console.log("this.onUpdateDateRange",e),this.$emit("changedDate",e)},onCheckboxChange:function(){var e="";this.list.forEach((function(t){t.bool&&(e.length>0&&(e+=","),e+=t.value)}))}}},p=d,m=(a("b9d5"),a("2877")),h=Object(m["a"])(p,s,i,!1,null,"1496b39a",null);t["a"]=h.exports},"2b90":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"pagination"},[a("li",{class:{disabled:1===e.pageIndex||0===e.totalPages},on:{click:e.prev}},[e._v(" < 이전 ")]),e._l(e.pageList,(function(t,s){return a("li",{key:s,class:{active:e.pageIndex===t},on:{click:function(a){return e.onChange(t)}}},[e._v(" "+e._s(t)+" ")])})),a("li",{class:{disabled:e.pageIndex===e.totalPages||0===e.totalPages},on:{click:e.next}},[e._v("다음 >")])],2)},i=[],n=(a("a9e3"),{name:"Pagination",props:{totalCount:{type:Number,default:0},maxDisplayPageCount:{type:Number,default:5},pageIndex:{type:Number,default:1},pageSize:{type:Number,default:100}},computed:{totalPages:function(){return Math.ceil(this.totalCount/this.pageSize)},pageCount:function(){return this.totalPages>this.maxDisplayPageCount?this.maxDisplayPageCount:this.totalPages},pageList:function(){var e=this.pageIndex>3?this.pageIndex-2:1,t=this.totalPages-this.pageIndex;e=this.totalPages>this.maxDisplayPageCount&&t<3?e-(this.maxDisplayPageCount-t-3):e;for(var a=[],s=0;s<this.pageCount;++s)a.push(e+s);return a}},methods:{onChange:function(e){this.pageIndex!==e&&this.$emit("change",e)},prev:function(){1!==this.pageIndex&&this.onChange(this.pageIndex-1)},next:function(){this.pageIndex!==this.totalPages&&this.onChange(this.pageIndex+1)}}}),o=n,r=(a("9750"),a("2877")),l=Object(r["a"])(o,s,i,!1,null,"119af7fa",null);t["a"]=l.exports},"324a":function(e,t,a){"use strict";var s=a("80da"),i=a.n(s);i.a},"4c22":function(e,t,a){},"7e3e":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("PageTitle"),a("div",{staticClass:"page-box filtering"},[a("ProcessEquipmentFiltering",{attrs:{"has-date-range-picker":"","process-title":"검 색","equipment-title":null,"start-date":e.filtering.startDate,"end-date":e.filtering.endDate},on:{filtering:e.onFiltering}})],1),a("div",{staticClass:"page-box"},[a("PanelTitle",{attrs:{title:"설비 목록",desc:e.total}}),a("table",{staticClass:"default-table double-row-header"},[e._m(0),a("tbody",e._l(e.gasRiskProposalList.list,(function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(e.getNumberByRowOrder(t.RO)))]),a("td",[e._v(e._s(t.procs_nm))]),a("td",[a("router-link",{staticClass:"equipment-link",attrs:{to:"/analysis/equipment/"+t.eqmt_id+"?procs_nm="+t.procs_nm+"&eqmt_nm="+t.eqmt_nm}},[e._v(" "+e._s(t.eqmt_nm)+" "),a("span",[e._v(">")])])],1),a("td",[a("RiskLabel",{attrs:{"is-double-row":"",code:t.RISK_STEP_CD,num:t.RISK_NUM,unit:t.RISK_UNIT}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.CRIG103}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.CRIG104}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.CRIG105}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.CRIG106}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.PART104}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.PART105}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.PART106}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.KSEC105}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.KSEC106}})],1),a("td",[a("RiskStepLabel",{attrs:{"use-step-by-name":"","delete-step-suffix":"",name:t.KSEC107}})],1),a("td",[e._v(" "+e._s(e.dayjs(t.props_ymdhis).format("YYYY-MM-DD hh:mm:ss"))+" ")])])})),0)]),a("Pagination",{attrs:{"page-index":this.page.index,"total-count":e.gasRiskProposalList.totalcount,"page-size":this.page.size},on:{change:e.onChangePage}})],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[e._v("No.")]),a("th",{attrs:{rowspan:"2"}},[e._v("생산공정")]),a("th",{attrs:{rowspan:"2"}},[e._v("이상 설비")]),a("th",{attrs:{rowspan:"2"}},[e._v("위험도")]),a("th",{attrs:{colspan:"10"}},[e._v("이상원인")]),a("th",{attrs:{rowspan:"2"}},[e._v("위험성 제안 일시")])]),a("tr",[a("th",[e._v("온도")]),a("th",[e._v("압력")]),a("th",[e._v("유량")]),a("th",[e._v("누출농도")]),a("th",[e._v("밸브고장")]),a("th",[e._v("밸브고장 2")]),a("th",[e._v("펌프고장")]),a("th",[e._v("이동")]),a("th",[e._v("경사도")]),a("th",{staticClass:"no-radius"},[e._v("표면온도")])])])}],n=a("5530"),o=a("2f62"),r=a("c6f9"),l=a("25b9"),c=a("031d"),u=a("7ec5"),d=a("5a0c"),p=a.n(d),m=a("6e4b"),h=a("2b90"),f={name:"GasRiskProposition",components:{Pagination:h["a"],RiskStepLabel:m["a"],RiskLabel:u["a"],ProcessEquipmentFiltering:c["a"],PageTitle:l["a"],PanelTitle:r["a"]},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["gasRiskProposalList"])),{},{total:function(){return this.gasRiskProposalList.totalcount?"총 "+this.gasRiskProposalList.totalcount+" 건":""}}),created:function(){this.queryList()},data:function(){return{dayjs:p.a,page:{index:1,size:20},filtering:{startDate:p()().startOf("month").format("YYYYMMDD"),endDate:p()().endOf("month").format("YYYYMMDD"),processId:"",equipmentId:""}}},methods:{queryList:function(){var e="?pagesize="+this.page.size+"&pageindex="+this.page.index;e+="&strt_props_ymd="+this.filtering.startDate+"&end_props_ymd="+this.filtering.endDate,e+="&procs_id="+this.filtering.processId+"&eqmt_id="+this.filtering.equipmentId,this.$store.dispatch("gasRiskProposalList",{queryString:e})},getNumberByRowOrder:function(e){return this.gasRiskProposalList.totalcount-e+1},onFiltering:function(e){console.log(e),this.filtering=e,this.page.index=1,this.queryList()},onChangePage:function(e){this.page.index=e,this.queryList()}}},g=f,b=(a("7eab"),a("2877")),_=Object(b["a"])(g,s,i,!1,null,"51c68b8c",null);t["default"]=_.exports},"7eab":function(e,t,a){"use strict";var s=a("fd97"),i=a.n(s);i.a},"7ec5":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.validated?a("div",{class:{"double-row":!e.isDoubleRow}},[e.showRiskStep?a("RiskStepLabel",{class:{"full-size":e.isDoubleRow},attrs:{"delete-step-suffix":e.isDeleteStepSuffix,name:e.riskName,code:e.riskCode}}):e._e(),e.showRiskLabel?a("div",{staticClass:"risk-label"},[e._v(e._s(e.riskNum+e.riskUnit))]):e._e()],1):a("div",[e._v("-")])},i=[],n=(a("c975"),a("b0c0"),a("a9e3"),a("ac1f"),a("1276"),a("6e4b")),o={name:"RiskLabel",components:{RiskStepLabel:n["a"]},props:{isDoubleRow:Boolean,isDeleteStepSuffix:Boolean,showRiskStep:{type:Boolean,default:!0},showRiskLabel:{type:Boolean,default:!0},name:String,code:String,num:Number,unit:String,textData:String},computed:{validated:function(){return this.textData||this.code},isTextData:function(){return this.textData&&this.textData.indexOf(":")>-1},riskName:function(){var e="";if(this.isTextData)e=this.textData.indexOf(":")>-1?this.textData.split(":")[1]:this.textData;else if(this.name)e=this.name;else if(this.code){var t=this.code.substr(0,2),a=this.code.substr(-1,1);switch(t){case"NR":e="정상";break;case"CR":e="주의";break;case"WR":e="경고";break;case"DG":e="위험";break;default:e="-"}e=e+" "+a+" 단계"}return this.isDeleteStepSuffix&&(e=e.substr(0,2)),e},riskCode:function(){var e;if(this.isTextData){var t=this.textData.split(":")[1].substr(0,2);switch(t){case"정상":e="NR";break;case"주의":e="CR";break;case"경고":e="WR";break;case"위험":e="DG";break;default:e=""}}else e=this.code;return e},riskNum:function(){var e=0;if(this.isTextData){var t=this.textData.split(":");e=Number(t[0])}else e=this.num;return e},riskUnit:function(){return this.unit?this.unit:"%"}},methods:{}},r=o,l=(a("324a"),a("2877")),c=Object(l["a"])(r,s,i,!1,null,"6212cb5a",null);t["a"]=c.exports},"80da":function(e,t,a){},9750:function(e,t,a){"use strict";var s=a("d72f"),i=a.n(s);i.a},b9d5:function(e,t,a){"use strict";var s=a("4c22"),i=a.n(s);i.a},d72f:function(e,t,a){},fd97:function(e,t,a){}}]);
//# sourceMappingURL=chunk-cf98f04e.js.map