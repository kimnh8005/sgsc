(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0662e0fd"],{"031d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-container"},[a("h4",{staticClass:"title"},[t._v(t._s(t.processTitle))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProcs,expression:"selectProcs"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProcs=e.target.multiple?a:a[0]},t.onProcessChange]}},[a("option",{attrs:{value:""}},[t._v("전체 생산공정")]),t._l(t.process,(function(e){return a("option",{key:e.procs_id,domProps:{value:e.procs_id}},[t._v(" "+t._s(e.procs_nm)+" ")])}))],2),a("h4",{staticClass:"title",class:{"blank-title":null===t.equipmentTitle}},[t._v(t._s(t.equipmentTitle))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectEqmt,expression:"selectEqmt"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectEqmt=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("전체 설비")]),t._l(t.equipment,(function(e){return a("option",{key:e.eqmt_id,domProps:{value:e.eqmt_id}},[t._v(" "+t._s(e.eqmt_nm)+" ")])}))],2),t.hasDateRangePicker?[a("h4",{staticClass:"title"},[t._v(t._s(t.datepickerTitle))]),a("div",{staticClass:"datepicker-container"},[t._m(0),a("DateRangePicker",{ref:"picker",attrs:{opens:t.dateRange.opens,"locale-data":t.dateRange.localeData,showDropdowns:t.dateRange.showDropdowns,autoApply:t.dateRange.autoApply,ranges:t.dateRange.showRange},on:{update:t.onUpdateDateRange},scopedSlots:t._u([{key:"input",fn:function(e){return[t._v(" "+t._s(t._f("date")(e.startDate))+" - "+t._s(t._f("date")(e.endDate))+" ")]}}],null,!1,3375447491),model:{value:t.selectedDateRange,callback:function(e){t.selectedDateRange=e},expression:"selectedDateRange"}})],1)]:t._e(),t.hasLeakageCheck?[a("h4",{staticClass:"title"},[t._v("누출위험")]),t._l(t.checkboxList,(function(e){return a("label",{key:e.value},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.bool,expression:"item.bool"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.bool)?t._i(e.bool,null)>-1:e.bool},on:{change:[function(a){var n=e.bool,s=a.target,o=!!s.checked;if(Array.isArray(n)){var i=null,r=t._i(n,i);s.checked?r<0&&t.$set(e,"bool",n.concat([i])):r>-1&&t.$set(e,"bool",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(e,"bool",o)},t.onCheckboxChange]}}),t._v(" "+t._s(e.name)+" ")])}))]:t._e(),t.hasWorkStatSelector?[a("h4",{staticClass:"title"},[t._v("상태")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedWorkStatCode,expression:"selectedWorkStatCode"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedWorkStatCode=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("전체")]),t._l(t.WORK_STAT_CD,(function(t){return a("option",{key:t.cd_id,attrs:{label:t.cd_nm},domProps:{value:t.cd_id}})}))],2)]:t._e(),a("button",{attrs:{disabled:t.requireSelectEquipment&&""===t.selectEqmt},on:{click:t.onClick}},[t._v("검색")])],2)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("img",{attrs:{src:a("7cb0"),alt:"calender icon"}})])}],o=(a("4160"),a("159b"),a("5530")),i=a("2f62"),r=a("bbf5"),c=a.n(r),l=(a("4b7f"),a("5a0c")),d=a.n(l),u={name:"ProcessEquipmentFiltering",components:{DateRangePicker:c.a},props:{requireSelectEquipment:Boolean,hasDateRangePicker:Boolean,hasLeakageCheck:Boolean,hasWorkStatSelector:Boolean,startDate:{type:String},endDate:{type:String},processTitle:{type:String,default:"생산공정"},equipmentTitle:{type:String,default:"설 비"},datepickerTitle:{type:String,default:"날 짜"}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(i["c"])("common/process",["process"])),Object(i["c"])("common/equipment",["equipment"])),Object(i["c"])("common/code",["WORK_STAT_CD"])),{},{activeEquipmentId:function(){return this.activeEquipId}}),data:function(){var t=this.startDate?d()(this.startDate).format("YYYY-MM-DD"):d()().format("YYYY-MM-DD"),e=this.endDate?d()(this.endDate).format("YYYY-MM-DD"):d()().format("YYYY-MM-DD");return{selectProcs:"",selectEqmt:"",dayjs:d.a,selectedDateRange:{startDate:t,endDate:e},dateRange:{today:new Date,opens:"left",showDropdowns:!1,showRange:!1,localeData:{direction:"ltr",format:"yyyy-mm-dd",separator:" ~ ",applyLabel:"적용",cancelLabel:"취소",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],firstDay:0}},checkboxList:[{name:"ON",value:"on",bool:!0},{name:"OFF",value:"off",bool:!0}],selectedWorkStatCode:""}},created:function(){this.$store.dispatch("common/process/query",{queryString:""}),this.hasWorkStatSelector&&this.$store.dispatch("common/code/query",{code:"WORK_STAT_CD"})},filters:{date:function(t){return t?d()(t).format("YYYY-MM-DD"):""}},methods:{onClick:function(){var t={processId:this.selectProcs,equipmentId:this.selectEqmt};this.hasDateRangePicker&&(t["startDate"]=d()(this.selectedDateRange.startDate).format("YYYYMMDD"),t["endDate"]=d()(this.selectedDateRange.endDate).format("YYYYMMDD")),this.hasWorkStatSelector&&(t["workStat"]=this.selectedWorkStatCode),this.$emit("filtering",t)},onProcessChange:function(){this.selectEqmt="",""===this.selectProcs?this.$store.dispatch("common/equipment/clear",{stateName:"equipment"}):this.$store.dispatch("common/equipment/query",{queryString:"?procs_id="+this.selectProcs})},onUpdateDateRange:function(t){console.log("this.onUpdateDateRange",t),this.$emit("changedDate",t)},onCheckboxChange:function(){var t="";this.list.forEach((function(e){e.bool&&(t.length>0&&(t+=","),t+=e.value)}))}}},p=u,m=(a("b9d5"),a("2877")),_=Object(m["a"])(p,n,s,!1,null,"1496b39a",null);e["a"]=_.exports},"0ba9":function(t,e,a){},"4c22":function(t,e,a){},b367:function(t,e,a){"use strict";var n=a("0ba9"),s=a.n(n);s.a},b9d5:function(t,e,a){"use strict";var n=a("4c22"),s=a.n(n);s.a},c6f9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel-title",class:{underlined:t.hasUnderline}},[a("h4",[t._v(t._s(t.title))]),t.desc?a("div",{staticClass:"title-desc"},[t._v(t._s(t.desc))]):t._e()])},s=[],o={name:"PanelTitle",props:{title:String,desc:String,hasUnderline:Boolean}},i=o,r=(a("b367"),a("2877")),c=Object(r["a"])(i,n,s,!1,null,"58b25e66",null);e["a"]=c.exports},c7a5:function(t,e,a){"use strict";var n=a("efc1"),s=a.n(n);s.a},c986:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle"),a("div",{staticClass:"page-box filtering"},[a("ProcessEquipmentFiltering",{attrs:{"has-date-range-picker":"","has-work-stat-selector":"","process-title":"검 색","datepicker-title":"목표시작","equipment-title":null,"start-date":t.filtering.startDate,"end-date":t.filtering.endDate},on:{filtering:t.onFiltering}})],1),a("div",{staticClass:"page-box"},[a("PanelTitle",{attrs:{title:"생산공정 목록",desc:t.total}}),a("table",{staticClass:"default-table"},[t._m(0),a("tbody",t._l(t.workJournalList.list,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(t.getNumberByRowOrder(e.RO)))]),a("td",[t._v(t._s(e.procs_nm))]),a("td",[t._v(t._s(e.eqmt_nm))]),a("td",[t._v("작업번호")]),a("td",[t._v(t._s(e.work_type_nm))]),a("td",[t._v(t._s(e.unit_procs_nm))]),a("td",{staticClass:"description"},[t._v(t._s(e.description))]),a("td",[t._v(t._s(t.dayjs(e.goal_strt_dt).format("YYYY-MM-DD")))]),a("td",[t._v(t._s(t.dayjs(e.goal_cmpt_dt).format("YYYY-MM-DD")))]),a("td",[t._v(t._s(t.getWorkStatName(e.work_stat_cd)))]),a("td",[a("router-link",{staticClass:"btn",attrs:{to:"/journal/view/"+e.jnl_sid}},[t._v(" 수정 ")])],1)])})),0)])],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("No.")]),a("th",[t._v("생산공정")]),a("th",[t._v("설비")]),a("th",[t._v("작업번호")]),a("th",[t._v("작업유형")]),a("th",[t._v("단위공정")]),a("th",[t._v("작업 설명")]),a("th",[t._v("목표 시작")]),a("th",[t._v("목표 종료")]),a("th",[t._v("상태")]),a("th",[t._v("수정")])])])}],o=(a("4160"),a("159b"),a("5530")),i=a("c6f9"),r=a("25b9"),c=a("031d"),l=a("5a0c"),d=a.n(l),u=a("2f62"),p={name:"WorkJournal",components:{ProcessEquipmentFiltering:c["a"],PageTitle:r["a"],PanelTitle:i["a"]},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(u["c"])("common/code",["WORK_STAT_CD"])),Object(u["c"])(["workJournalList"])),{},{total:function(){return this.workJournalList.totalcount?"총 "+this.workJournalList.totalcount+" 건":""}}),created:function(){this.$store.dispatch("common/code/query",{code:"WORK_STAT_CD"}),this.queryList()},data:function(){return{dayjs:d.a,page:{index:1,size:20},filtering:{startDate:d()().startOf("month").format("YYYYMMDD"),endDate:d()().endOf("month").format("YYYYMMDD"),processId:"",equipmentId:"",workStat:""}}},methods:{queryList:function(){var t="?pagesize="+this.page.size+"&pageindex="+this.page.index;t+="&goal_strt_dt="+this.filtering.startDate+"&goal_cmpt_dt="+this.filtering.endDate,t+="&procs_id="+this.filtering.processId+"&eqmt_id="+this.filtering.equipmentId,t+="&work_stat_cd="+this.filtering.workStat,this.$store.dispatch("workJournalList",{queryString:t})},getNumberByRowOrder:function(t){return this.workJournalList.totalcount-t+1},getWorkStatName:function(t){var e="-";return this.WORK_STAT_CD.forEach((function(a){a.cd_id===t&&(e=a.cd_nm)})),e},onFiltering:function(t){console.log(t),this.filtering=t,this.page.index=1,this.queryList()},onChangePage:function(t){this.page.index=t,this.queryList()}}},m=p,_=(a("c7a5"),a("2877")),h=Object(_["a"])(m,n,s,!1,null,"0652d9ce",null);e["default"]=h.exports},efc1:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0662e0fd.js.map