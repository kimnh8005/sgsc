(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16de4abb"],{"031d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"filter-container"},[a("h4",{staticClass:"title"},[t._v(t._s(t.processTitle))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectProcs,expression:"selectProcs"}],on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectProcs=e.target.multiple?a:a[0]},t.onProcessChange]}},[a("option",{attrs:{value:""}},[t._v("전체 생산공정")]),t._l(t.process,(function(e){return a("option",{key:e.procs_id,domProps:{value:e.procs_id}},[t._v(" "+t._s(e.procs_nm)+" ")])}))],2),a("h4",{staticClass:"title",class:{"blank-title":null===t.equipmentTitle}},[t._v(t._s(t.equipmentTitle))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectEqmt,expression:"selectEqmt"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectEqmt=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("전체 설비")]),t._l(t.equipment,(function(e){return a("option",{key:e.eqmt_id,domProps:{value:e.eqmt_id}},[t._v(" "+t._s(e.eqmt_nm)+" ")])}))],2),t.hasDateRangePicker?[a("h4",{staticClass:"title"},[t._v(t._s(t.datepickerTitle))]),a("div",{staticClass:"datepicker-container"},[t._m(0),a("DateRangePicker",{ref:"picker",attrs:{opens:t.dateRange.opens,"locale-data":t.dateRange.localeData,showDropdowns:t.dateRange.showDropdowns,autoApply:t.dateRange.autoApply,ranges:t.dateRange.showRange},on:{update:t.onUpdateDateRange},scopedSlots:t._u([{key:"input",fn:function(e){return[t._v(" "+t._s(t._f("date")(e.startDate))+" - "+t._s(t._f("date")(e.endDate))+" ")]}}],null,!1,3375447491),model:{value:t.selectedDateRange,callback:function(e){t.selectedDateRange=e},expression:"selectedDateRange"}})],1)]:t._e(),t.hasLeakageCheck?[a("h4",{staticClass:"title"},[t._v("누출위험")]),t._l(t.checkboxList,(function(e){return a("label",{key:e.value},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.bool,expression:"item.bool"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.bool)?t._i(e.bool,null)>-1:e.bool},on:{change:[function(a){var n=e.bool,r=a.target,i=!!r.checked;if(Array.isArray(n)){var o=null,s=t._i(n,o);r.checked?s<0&&t.$set(e,"bool",n.concat([o])):s>-1&&t.$set(e,"bool",n.slice(0,s).concat(n.slice(s+1)))}else t.$set(e,"bool",i)},t.onCheckboxChange]}}),t._v(" "+t._s(e.name)+" ")])}))]:t._e(),t.hasWorkStatSelector?[a("h4",{staticClass:"title"},[t._v("상태")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedWorkStatCode,expression:"selectedWorkStatCode"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedWorkStatCode=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("전체")]),t._l(t.WORK_STAT_CD,(function(t){return a("option",{key:t.cd_id,attrs:{label:t.cd_nm},domProps:{value:t.cd_id}})}))],2)]:t._e(),a("button",{attrs:{disabled:t.requireSelectEquipment&&""===t.selectEqmt},on:{click:t.onClick}},[t._v("검색")])],2)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon"},[n("img",{attrs:{src:a("7cb0"),alt:"calender icon"}})])}],i=(a("4160"),a("159b"),a("5530")),o=a("2f62"),s=a("bbf5"),c=a.n(s),l=(a("4b7f"),a("5a0c")),u=a.n(l),h={name:"ProcessEquipmentFiltering",components:{DateRangePicker:c.a},props:{requireSelectEquipment:Boolean,hasDateRangePicker:Boolean,hasLeakageCheck:Boolean,hasWorkStatSelector:Boolean,startDate:{type:String},endDate:{type:String},processTitle:{type:String,default:"생산공정"},equipmentTitle:{type:String,default:"설 비"},datepickerTitle:{type:String,default:"날 짜"}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["c"])("common/process",["process"])),Object(o["c"])("common/equipment",["equipment"])),Object(o["c"])("common/code",["WORK_STAT_CD"])),{},{activeEquipmentId:function(){return this.activeEquipId}}),data:function(){var t=this.startDate?u()(this.startDate).format("YYYY-MM-DD"):u()().format("YYYY-MM-DD"),e=this.endDate?u()(this.endDate).format("YYYY-MM-DD"):u()().format("YYYY-MM-DD");return{selectProcs:"",selectEqmt:"",dayjs:u.a,selectedDateRange:{startDate:t,endDate:e},dateRange:{today:new Date,opens:"left",showDropdowns:!1,showRange:!1,localeData:{direction:"ltr",format:"yyyy-mm-dd",separator:" ~ ",applyLabel:"적용",cancelLabel:"취소",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],firstDay:0}},checkboxList:[{name:"ON",value:"on",bool:!0},{name:"OFF",value:"off",bool:!0}],selectedWorkStatCode:""}},created:function(){this.$store.dispatch("common/process/query",{queryString:""}),this.hasWorkStatSelector&&this.$store.dispatch("common/code/query",{code:"WORK_STAT_CD"})},filters:{date:function(t){return t?u()(t).format("YYYY-MM-DD"):""}},methods:{onClick:function(){var t={processId:this.selectProcs,equipmentId:this.selectEqmt};this.hasDateRangePicker&&(t["startDate"]=u()(this.selectedDateRange.startDate).format("YYYYMMDD"),t["endDate"]=u()(this.selectedDateRange.endDate).format("YYYYMMDD")),this.hasWorkStatSelector&&(t["workStat"]=this.selectedWorkStatCode),this.$emit("filtering",t)},onProcessChange:function(){this.selectEqmt="",""===this.selectProcs?this.$store.dispatch("common/equipment/clear",{stateName:"equipment"}):this.$store.dispatch("common/equipment/query",{queryString:"?procs_id="+this.selectProcs})},onUpdateDateRange:function(t){console.log("this.onUpdateDateRange",t),this.$emit("changedDate",t)},onCheckboxChange:function(){var t="";this.list.forEach((function(e){e.bool&&(t.length>0&&(t+=","),t+=e.value)}))}}},d=h,p=(a("b9d5"),a("2877")),f=Object(p["a"])(d,n,r,!1,null,"1496b39a",null);e["a"]=f.exports},1148:function(t,e,a){"use strict";var n=a("a691"),r=a("1d80");t.exports="".repeat||function(t){var e=String(r(this)),a="",i=n(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(a+=e);return a}},"233d":function(t,e,a){"use strict";var n=a("49db"),r=a.n(n);r.a},"2b90":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"pagination"},[a("li",{class:{disabled:1===t.pageIndex||0===t.totalPages},on:{click:t.prev}},[t._v(" < 이전 ")]),t._l(t.pageList,(function(e,n){return a("li",{key:n,class:{active:t.pageIndex===e},on:{click:function(a){return t.onChange(e)}}},[t._v(" "+t._s(e)+" ")])})),a("li",{class:{disabled:t.pageIndex===t.totalPages||0===t.totalPages},on:{click:t.next}},[t._v("다음 >")])],2)},r=[],i=(a("a9e3"),{name:"Pagination",props:{totalCount:{type:Number,default:0},maxDisplayPageCount:{type:Number,default:5},pageIndex:{type:Number,default:1},pageSize:{type:Number,default:100}},computed:{totalPages:function(){return Math.ceil(this.totalCount/this.pageSize)},pageCount:function(){return this.totalPages>this.maxDisplayPageCount?this.maxDisplayPageCount:this.totalPages},pageList:function(){var t=this.pageIndex>3?this.pageIndex-2:1,e=this.totalPages-this.pageIndex;t=this.totalPages>this.maxDisplayPageCount&&e<3?t-(this.maxDisplayPageCount-e-3):t;for(var a=[],n=0;n<this.pageCount;++n)a.push(t+n);return a}},methods:{onChange:function(t){this.pageIndex!==t&&this.$emit("change",t)},prev:function(){1!==this.pageIndex&&this.onChange(this.pageIndex-1)},next:function(){this.pageIndex!==this.totalPages&&this.onChange(this.pageIndex+1)}}}),o=i,s=(a("9750"),a("2877")),c=Object(s["a"])(o,n,r,!1,null,"119af7fa",null);e["a"]=c.exports},"408a":function(t,e,a){var n=a("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"49db":function(t,e,a){},"4c22":function(t,e,a){},5191:function(t,e,a){"use strict";var n=a("b7b3"),r=a.n(n);r.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,a){var n=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var i,o;return r&&"function"==typeof(i=e.constructor)&&i!==a&&n(o=i.prototype)&&o!==a.prototype&&r(t,o),t}},7956:function(t,e,a){},9750:function(t,e,a){"use strict";var n=a("d72f"),r=a.n(n);r.a},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("6eeb"),s=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),h=a("d039"),d=a("7c73"),p=a("241c").f,f=a("06cf").f,m=a("9bf2").f,g=a("58a8").trim,v="Number",_=r[v],b=_.prototype,y=c(d(b))==v,D=function(t){var e,a,n,r,i,o,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(i=l.slice(2),o=i.length,s=0;s<o;s++)if(c=i.charCodeAt(s),c<48||c>r)return NaN;return parseInt(i,n)}return+l};if(i(v,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var C,x=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof x&&(y?h((function(){b.valueOf.call(a)})):c(a)!=v)?l(new _(D(e)),a,x):D(e)},k=n?p(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;k.length>P;P++)s(_,C=k[P])&&!s(x,C)&&m(x,C,f(_,C));x.prototype=b,b.constructor=x,o(r,v,x)}},b680:function(t,e,a){"use strict";var n=a("23e7"),r=a("a691"),i=a("408a"),o=a("1148"),s=a("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,a){return 0===e?a:e%2===1?u(t,e-1,a*t):u(t*t,e/2,a)},h=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},d=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));n({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,a,n,s,c=i(this),d=r(t),p=[0,0,0,0,0,0],f="",m="0",g=function(t,e){var a=-1,n=e;while(++a<6)n+=t*p[a],p[a]=n%1e7,n=l(n/1e7)},v=function(t){var e=6,a=0;while(--e>=0)a+=p[e],p[e]=l(a/t),a=a%t*1e7},_=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==p[t]){var a=String(p[t]);e=""===e?a:e+o.call("0",7-a.length)+a}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(f="-",c=-c),c>1e-21)if(e=h(c*u(2,69,1))-69,a=e<0?c*u(2,-e,1):c/u(2,e,1),a*=4503599627370496,e=52-e,e>0){g(0,a),n=d;while(n>=7)g(1e7,0),n-=7;g(u(10,n,1),0),n=e-1;while(n>=23)v(1<<23),n-=23;v(1<<n),g(1,1),v(2),m=_()}else g(0,a),g(1<<-e,0),m=_()+o.call("0",d);return d>0?(s=m.length,m=f+(s<=d?"0."+o.call("0",d-s)+m:m.slice(0,s-d)+"."+m.slice(s-d))):m=f+m,m}})},b7b3:function(t,e,a){},b9d5:function(t,e,a){"use strict";var n=a("4c22"),r=a.n(n);r.a},d72f:function(t,e,a){},e2d6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("PageTitle"),a("div",{staticClass:"page-graph-box"},[a("BlackPieChart",{staticClass:"pie-type"}),a("WeekLineChart",{staticClass:"line-type"})],1),a("div",{staticClass:"page-box filtering"},[a("ProcessEquipmentFiltering",{attrs:{"has-date-range-picker":"","process-title":"검 색","equipment-title":null,"start-date":t.filtering.startDate,"end-date":t.filtering.endDate},on:{filtering:t.onFiltering}})],1),a("div",{staticClass:"page-box"},[a("table",{staticClass:"default-table"},[t._m(0),a("tbody",t._l(t.humanErrorProposalList.list,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(t.getNumberByRowOrder(e.RO)))]),a("td",[t._v(t._s(e.procs_nm))]),a("td",[t._v(t._s(e.eqmt_nm))]),a("td",[t._v("작업번호")]),a("td",[t._v(t._s(e.work_type_nm))]),a("td",[t._v(t._s(e.unit_procs_nm))]),a("td",[t._v(t._s(e.description))]),a("td",[t._v(t._s(t.dayjs(e.real_rise_dt).format("YYYY-MM-DD")))]),a("td",[t._v(t._s(t.dayjs(e.real_cmpt_dt).format("YYYY-MM-DD")))]),a("td",[t._v(t._s(e.work_err_rate+"%"))]),t._m(1,!0)])})),0)]),a("Pagination",{attrs:{"page-index":this.page.index,"total-count":t.humanErrorProposalList.totalcount,"page-size":this.page.size},on:{change:t.onChangePage}})],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("No.")]),a("th",[t._v("생산공정")]),a("th",[t._v("설비")]),a("th",[t._v("작업번호")]),a("th",[t._v("작업유형")]),a("th",[t._v("단위공정")]),a("th",[t._v("작업 설명")]),a("th",[t._v("실제 시작")]),a("th",[t._v("실제 종료")]),a("th",[t._v("작업 오류율")]),a("th",[t._v("보기")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("button",[t._v(" 상세보기 "),n("img",{attrs:{src:a("92fe")}})])])}],i=a("5530"),o=a("25b9"),s=a("5a0c"),c=a.n(s),l=a("031d"),u=a("2f62"),h=a("2b90"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[a("div",{staticClass:"info"},[a("h3",[t._v("금일 작업 오류율")]),a("div",{staticClass:"percent"},[a("span",{staticClass:"percent-amount"},[t._v(t._s(t.percentAmount))]),a("span",{staticClass:"percent-unit"},[t._v("%")])])]),a("highcharts",{ref:"highcharts",attrs:{options:t.chartOptions}})],1)},p=[],f=(a("b0c0"),a("b680"),a("4452")),m={name:"BlackPieChart",components:{highcharts:f["Chart"]},watch:{humanErrorDayRate:{handler:function(t,e){console.log(e);var a=e.FL,n={name:"금일 작업 오류율",data:[{name:"정상",y:100-a,color:"#d4d4d4"},{name:"오류",y:a,color:"#2d969b"}]};this.targetNum=a,this.increaseNum(),this.chart.addSeries(n)},deep:!0}},computed:Object(i["a"])(Object(i["a"])({},Object(u["c"])(["humanErrorDayRate"])),{},{percentAmount:function(){return this.percentNum.toFixed(1)}}),created:function(){this.$store.dispatch("humanErrorDayRate")},mounted:function(){this.chart=this.$refs.highcharts.chart},data:function(){return{chart:null,percentNum:0,targetNum:0,chartOptions:{chart:{type:"pie",width:255,height:300,margin:[0,0,45,0],backgroundColor:"transparent",animation:{duration:5e3}},legend:{y:15,itemStyle:{fontSize:"15px",color:"#FFFFFF"}},title:!1,tooltip:{formatter:function(){return this.point.name+" : <b>"+this.point.y+" %</b>"},valueSuffix:"%",shared:!0},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},credits:{enabled:!1}}}},methods:{increaseNum:function(){this.percentNum<this.targetNum?(this.percentNum+=.05*(this.targetNum-this.percentNum),setTimeout(this.increaseNum,20)):this.percentNum=this.targetNum}}},g=m,v=(a("233d"),a("2877")),_=Object(v["a"])(g,d,p,!1,null,"c5dee746",null),b=_.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-container"},[a("h3",[t._v("7일간 작업 오류율")]),a("highcharts",{ref:"highcharts",staticClass:"chart-shape",attrs:{options:t.chartOptions}})],1)},D=[],C=(a("4160"),a("159b"),{name:"WeekLineChart",components:{highcharts:f["Chart"]},watch:{humanErrorDay7Rate:{handler:function(){var t=[],e={name:"7일간 작업 오류율",data:[],categories:[],color:"#96cacd"};this.humanErrorDay7Rate.list.forEach((function(a){e.data.push(a.risk_rate),t.push(c()(a.props_ymd).format("MM월DD일"))})),this.chart.addSeries(e),this.chart.xAxis[0].setCategories(t)},deep:!0}},computed:Object(i["a"])({},Object(u["c"])(["humanErrorDay7Rate"])),created:function(){this.$store.dispatch("humanErrorDay7Rate")},mounted:function(){this.chart=this.$refs.highcharts.chart},data:function(){return{chart:null,chartOptions:{chart:{type:"area",height:240,animation:{duration:1e3}},title:!1,legend:!1,xAxis:{labels:{style:{fontSize:15}},categories:[]},yAxis:{title:!1,labels:!1,max:100,tickLength:100,visible:!1},plotOptions:{series:{marker:{fillColor:"#FFFFFF",lineWidth:2,lineColor:null}},area:{pointPlacement:"on"}},tooltip:{formatter:function(){return this.x+" : <b>"+this.point.y+" %</b>"},valueSuffix:"%"},credits:{enabled:!1}}}}}),x=C,k=(a("e71b"),Object(v["a"])(x,y,D,!1,null,"02756d6e",null)),P=k.exports,E={name:"WorkerErrorProposition",components:{WeekLineChart:P,BlackPieChart:b,Pagination:h["a"],ProcessEquipmentFiltering:l["a"],PageTitle:o["a"]},computed:Object(i["a"])(Object(i["a"])({},Object(u["c"])(["humanErrorProposalList"])),{},{total:function(){return this.humanErrorProposalList.totalcount?"총 "+this.humanErrorProposalList.totalcount+" 건":""}}),created:function(){this.queryList()},data:function(){return{dayjs:c.a,page:{index:1,size:20},filtering:{startDate:c()().startOf("month").format("YYYYMMDD"),endDate:c()().endOf("month").format("YYYYMMDD"),processId:"",equipmentId:""}}},methods:{queryList:function(){var t="?pagesize="+this.page.size+"&pageindex="+this.page.index;t+="&strt_props_ymd="+this.filtering.startDate+"&end_props_ymd="+this.filtering.endDate,t+="&procs_id="+this.filtering.processId+"&eqmt_id="+this.filtering.equipmentId,this.$store.dispatch("humanErrorProposalList",{queryString:t})},getNumberByRowOrder:function(t){return this.humanErrorProposalList.totalcount-t+1},onFiltering:function(t){console.log(t),this.filtering=t,this.page.index=1,this.queryList()},onChangePage:function(t){this.page.index=t,this.queryList()}}},N=E,S=(a("5191"),Object(v["a"])(N,n,r,!1,null,"5e03c163",null));e["default"]=S.exports},e71b:function(t,e,a){"use strict";var n=a("7956"),r=a.n(n);r.a}}]);
//# sourceMappingURL=chunk-16de4abb.js.map