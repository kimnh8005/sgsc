(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91931390"],{"0ce5":function(t,r,e){"use strict";var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("span",{class:{overflowed:t.isOverflow}},[e("span",[t._v(t._s(t.currentText.length))]),t._v(" / "),e("span",[t._v(t._s(t.limit))]),e("span",[t._v(t._s(t.description))])])},a=[],o=(e("a9e3"),e("498a"),{name:"LetterLimitCounter",props:{limit:{type:Number,required:!0},currentText:{type:String,required:!0},description:String},computed:{isOverflow:function(){return this.currentText.trim().length>this.limit}}}),s=o,i=(e("2f7e"),e("2877")),c=Object(i["a"])(s,n,a,!1,null,"6231f2f0",null);r["a"]=c.exports},"102c":function(t,r,e){"use strict";var n=e("1aa1"),a=e.n(n);a.a},"1aa1":function(t,r,e){},"1d5b":function(t,r,e){"use strict";e.r(r);var n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("PageTitle",{attrs:{title:"작업 일지"}}),e("div",{staticClass:"page-box"},[e("table",{staticClass:"view-table"},[e("tbody",[t._m(0),e("tr",[e("th",[t._v("작업번호")]),e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.jnl_sid))])]),e("tr",[e("th",[t._v("작업유형")]),e("td",[t._v(t._s(t.workJournal.work_type_nm))]),e("th",[t._v("단위공정")]),e("td",[t._v(t._s(t.workJournal.unit_procs_nm))])]),e("tr",[e("th",[t._v("설비")]),e("td",{attrs:{colspan:"3"}},[t._v(" "+t._s(t.workJournal.procs_nm)+" > "+t._s(t.workJournal.eqmt_nm)+" ")])]),e("tr",[e("th",[t._v("작업설명")]),e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.workJournal.description))])])])]),e("table",{staticClass:"view-table"},[e("tbody",[t._m(1),e("tr",[e("th",[t._v("작업상태")]),e("td",{attrs:{colspan:"3"}},[t._v(t._s(t.workJournal.work_stat_nm))])]),e("tr",[e("th",[t._v("목표 시작")]),e("td",[t._v(t._s(t.workJournal.goal_strt_dt?t.dayjs(t.workJournal.goal_strt_dt).format("YYYY-MM-DD"):""))]),e("th",{staticStyle:{width:"120px"}},[t._v("목표 완료")]),e("td",[t._v(t._s(t.workJournal.goal_cmpt_dt?t.dayjs(t.workJournal.goal_cmpt_dt).format("YYYY-MM-DD"):""))])]),e("tr",[e("th",[t._v("실제 시작")]),e("td",[t._v(t._s(t.workJournal.real_strt_dt?t.dayjs(t.workJournal.real_strt_dt).format("YYYY-MM-DD"):""))]),e("th",[t._v("실제 완료")]),e("td",[t._v(t._s(t.workJournal.real_cmpt_dt?t.dayjs(t.workJournal.real_cmpt_dt).format("YYYY-MM-DD"):""))])]),e("tr",[e("th",[t._v("작업자")]),e("td",{attrs:{colspan:"3"}},[t._v(" "+t._s(t.workJournal.wrk_dept_nm)+" "),t.workJournal.wrk_dept_cd&&t.workJournal.wrk_user_nm?e("span",[t._v(t._s(">"))]):t._e(),t._v(" "+t._s(t.workJournal.wrk_user_nm)+" ")])])])]),e("table",{staticClass:"view-table"},[e("tbody",[e("tr",{staticClass:"multi-line"},[e("th",[t._v("작업지시")]),e("td",[t._v(t._s(t.workJournal.work_cmd_cnt))])]),e("tr",{staticClass:"multi-line"},[e("th",[t._v("특이사항")]),t.isWorkerEditMode?e("td",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.specialProblemInput,expression:"specialProblemInput"}],domProps:{value:t.specialProblemInput},on:{input:function(r){r.target.composing||(t.specialProblemInput=r.target.value)}}}),e("LetterLimitCounter",{staticClass:"limit-counter",attrs:{"current-text":t.specialProblemInput,limit:200}})],1):e("td",[t._v(t._s(t.workJournal.spcl_prbm))])])])]),t.isWorkerEditMode?e("div",{staticClass:"button-group center-type article-buttons"},[e("button",{on:{click:t.doCancel}},[t._v("취 소")]),e("button",{attrs:{disabled:t.specialProblemInput.trim()===t.workJournal.spcl_prbm.trim()},on:{click:t.doSave}},[t._v(" 저 장 ")])]):e("div",{staticClass:"button-group center-type article-buttons"},[e("button",{on:{click:t.goList}},[t._v("목 록")]),t.isEditable?e("button",{on:{click:t.doEdit}},[t._v(" 수 정 ")]):t._e(),t.isEditable?e("button",{staticClass:"btn-dark",on:{click:t.doDelete}},[t._v(" 삭 제 ")]):t._e()])])],1)},a=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("tr",{staticClass:"table-guide"},[e("th"),e("td"),e("th"),e("td")])},function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("tr",{staticClass:"table-guide"},[e("th"),e("td"),e("th"),e("td")])}],o=e("5530"),s=e("25b9"),i=e("2f62"),c=e("5a0c"),u=e.n(c),l=e("0ce5"),d={name:"WorkJournalView",components:{LetterLimitCounter:l["a"],PageTitle:s["a"]},props:{jnl_sid:String},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(i["b"])(["userData"])),Object(i["c"])(["workJournal"])),Object(i["c"])("common/code",["WORK_STAT_CD","DEPT_CD"])),{},{isEditable:function(){return this.userData.user_id===this.workJournal.regist_id||this.userData.auth_sid>99}}),created:function(){var t=this;this.$store.dispatch("common/code/query",{code:"WORK_STAT_CD"}),this.$store.dispatch("common/code/query",{code:"DEPT_CD"}).then((function(r){"NRL001"===r.data.resultCode&&t.queryServer()}))},data:function(){return{dayjs:u.a,workStatName:"",isWorkerEditMode:!1,specialProblemInput:""}},methods:{queryServer:function(){this.$store.dispatch("workJournal",{id:this.jnl_sid})},goList:function(){this.$router.push("/journal")},doEdit:function(){this.userData&&this.userData.auth_sid>99?this.$router.push("/journal/edit/"+this.jnl_sid):(this.specialProblemInput=this.workJournal.spcl_prbm,this.isWorkerEditMode=!0)},doDelete:function(){var t=this,r=confirm("작업일지를 삭제 하시겠습니까?");r&&this.$store.dispatch("deleteWorkJournal",{jnl_sid:this.jnl_sid}).then((function(r){"NRL001"===r.data.resultCode&&(alert("작업일지를 삭제 하였습니다."),t.goList())}))},doCancel:function(){this.isWorkerEditMode=!1},doSave:function(){var t=this,r=JSON.parse(JSON.stringify(this.workJournal));r.spcl_prbm=this.specialProblemInput,this.$store.dispatch("putWorkJournal",r).then((function(r){"NRL001"===r.data.resultCode?(t.queryServer(),t.doCancel()):alert("저장 과정에서 오류가 있어 저장되지 않았습니다. \nCode: "+r.data.resultCode)}))}}},_=d,p=(e("102c"),e("2877")),f=Object(p["a"])(_,n,a,!1,null,"34898a3c",null);r["default"]=f.exports},"2f7e":function(t,r,e){"use strict";var n=e("eda7"),a=e.n(n);a.a},"498a":function(t,r,e){"use strict";var n=e("23e7"),a=e("58a8").trim,o=e("c8d2");n({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},5899:function(t,r){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,r,e){var n=e("1d80"),a=e("5899"),o="["+a+"]",s=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),c=function(t){return function(r){var e=String(n(r));return 1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(i,"")),e}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,r,e){var n=e("861d"),a=e("d2bb");t.exports=function(t,r,e){var o,s;return a&&"function"==typeof(o=r.constructor)&&o!==e&&n(s=o.prototype)&&s!==e.prototype&&a(t,s),t}},a9e3:function(t,r,e){"use strict";var n=e("83ab"),a=e("da84"),o=e("94ca"),s=e("6eeb"),i=e("5135"),c=e("c6b6"),u=e("7156"),l=e("c04e"),d=e("d039"),_=e("7c73"),p=e("241c").f,f=e("06cf").f,v=e("9bf2").f,m=e("58a8").trim,h="Number",b=a[h],k=b.prototype,w=c(_(k))==h,g=function(t){var r,e,n,a,o,s,i,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),r=u.charCodeAt(0),43===r||45===r){if(e=u.charCodeAt(2),88===e||120===e)return NaN}else if(48===r){switch(u.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(o=u.slice(2),s=o.length,i=0;i<s;i++)if(c=o.charCodeAt(i),c<48||c>a)return NaN;return parseInt(o,n)}return+u};if(o(h,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var J,C=function(t){var r=arguments.length<1?0:t,e=this;return e instanceof C&&(w?d((function(){k.valueOf.call(e)})):c(e)!=h)?u(new b(g(r)),e,C):g(r)},E=n?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;E.length>I;I++)i(b,J=E[I])&&!i(C,J)&&v(C,J,f(b,J));C.prototype=k,k.constructor=C,s(a,h,C)}},c8d2:function(t,r,e){var n=e("d039"),a=e("5899"),o="​᠎";t.exports=function(t){return n((function(){return!!a[t]()||o[t]()!=o||a[t].name!==t}))}},eda7:function(t,r,e){}}]);
//# sourceMappingURL=chunk-91931390.js.map